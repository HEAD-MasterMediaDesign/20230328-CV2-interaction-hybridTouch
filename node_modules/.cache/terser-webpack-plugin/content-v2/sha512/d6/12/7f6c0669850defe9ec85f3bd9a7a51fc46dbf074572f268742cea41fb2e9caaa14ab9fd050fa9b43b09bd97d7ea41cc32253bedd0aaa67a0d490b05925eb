{"map":"{\"version\":3,\"sources\":[\"webpack/universalModuleDefinition\",\"webpack/bootstrap\",\"C:\\\\Users\\\\malik\\\\Desktop\\\\.Programs\\\\JavaScript\\\\FluidJS\\\\src\\\\defualts.js\",\"C:\\\\Users\\\\malik\\\\Desktop\\\\.Programs\\\\JavaScript\\\\FluidJS\\\\src\\\\fluid.js\",\"C:\\\\Users\\\\malik\\\\Desktop\\\\.Programs\\\\JavaScript\\\\FluidJS\\\\src\\\\initializer.js\",\"C:\\\\Users\\\\malik\\\\Desktop\\\\.Programs\\\\JavaScript\\\\FluidJS\\\\node_modules\\\\url-loader\\\\dist\\\\cjs.js!C:\\\\Users\\\\malik\\\\Desktop\\\\.Programs\\\\JavaScript\\\\FluidJS\\\\assets\\\\dither.png\"],\"names\":[\"root\",\"factory\",\"exports\",\"module\",\"define\",\"amd\",\"window\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"params\",\"behavior\",\"_objectSpread\",\"sim_resolution\",\"dye_resolution\",\"paused\",\"clamp_values\",\"dissipation\",\"velocity\",\"pressure\",\"pressure_iteration\",\"fluid_color\",\"curl\",\"emitter_size\",\"render_shaders\",\"multi_color\",\"render_bloom\",\"bloom_iterations\",\"bloom_resolution\",\"intensity\",\"threshold\",\"soft_knee\",\"background_color\",\"g\",\"b\",\"transparent\",\"alpha\",\"depth\",\"stencil\",\"antialias\",\"preserveDrawingBuffer\",\"powerPreference\",\"blank\",\"vertex\",\"clear\",\"color\",\"background\",\"pictureBackground\",\"display\",\"displayBloom\",\"displayShading\",\"displayBloomShading\",\"bloomPreFilter\",\"bloomBlur\",\"bloomFinal\",\"splat\",\"advectionManualFiltering\",\"advection\",\"divergence\",\"vorticity\",\"gradientSubtract\",\"_defualts\",\"_initializer\",\"Fluid\",\"canvas\",\"_classCallCheck\",\"this\",\"PARAMS\",\"width\",\"clientWidth\",\"height\",\"clientHeight\",\"_initWebGL\",\"initWebGL\",\"programs\",\"webGL\",\"colorFormats\",\"pointers\",\"activator\",\"activate\",\"setBehaviors\",\"shouldSet\",\"arguments\",\"length\",\"undefined\",\"style\",\"zIndex\",\"position\",\"type\",\"options\",\"toLowerCase\",\"gradient\",\"image\",\"backgroundImage\",\"backgroundRepeat\",\"repeat\",\"backgroundPosition\",\"backgroundSize\",\"size\",\"backgroundColor\",\"reset\",\"push\",\"Pointer\",\"getContext\",\"defualts\",\"DRAWING_PARAMS\",\"isWebGL2\",\"formatRGBA\",\"formatRG\",\"formatR\",\"halfFloat\",\"supportLinearFiltering\",\"getExtension\",\"HALF_FLOAT_TEXTURE_TYPE\",\"HALF_FLOAT\",\"HALF_FLOAT_OES\",\"clearColor\",\"getSupportedFormat\",\"RGBA16F\",\"RGBA\",\"RG16F\",\"RG\",\"R16F\",\"RED\",\"internalFormat\",\"format\",\"texture\",\"createTexture\",\"bindTexture\",\"TEXTURE_2D\",\"texParameteri\",\"TEXTURE_MIN_FILTER\",\"NEAREST\",\"TEXTURE_MAG_FILTER\",\"TEXTURE_WRAP_S\",\"CLAMP_TO_EDGE\",\"TEXTURE_WRAP_T\",\"texImage2D\",\"fbo\",\"createFramebuffer\",\"bindFramebuffer\",\"FRAMEBUFFER\",\"framebufferTexture2D\",\"COLOR_ATTACHMENT0\",\"status\",\"checkFramebufferStatus\",\"FRAMEBUFFER_COMPLETE\",\"halfFloatTexType\",\"getFormats\",\"test\",\"navigator\",\"userAgent\",\"console\",\"log\",\"SHADER\",\"baseVertex\",\"compileShader\",\"VERTEX_SHADER\",\"SHADER_SOURCE\",\"FRAGMENT_SHADER\",\"source\",\"shader\",\"createShader\",\"shaderSource\",\"getShaderParameter\",\"COMPILE_STATUS\",\"getShaderInfoLog\",\"clearProgram\",\"GLProgram\",\"colorProgram\",\"backgroundProgram\",\"displayProgram\",\"displayBloomProgram\",\"displayShadingProgram\",\"displayBloomShadingProgram\",\"bloomPreFilterProgram\",\"bloomBlurProgram\",\"bloomFinalProgram\",\"splatProgram\",\"advectionProgram\",\"divergenceProgram\",\"curlProgram\",\"vorticityProgram\",\"pressureProgram\",\"gradientSubtractProgram\",\"colorFormat\",\"PROGRAMS\",\"active\",\"nPointers\",\"simWidth\",\"simHeight\",\"dyeWidth\",\"dyeHeight\",\"density\",\"bloom\",\"bloomFrameBuffers\",\"splatStack\",\"blit\",\"bindBuffer\",\"ARRAY_BUFFER\",\"createBuffer\",\"bufferData\",\"Float32Array\",\"STATIC_DRAW\",\"ELEMENT_ARRAY_BUFFER\",\"Uint16Array\",\"vertexAttribPointer\",\"FLOAT\",\"enableVertexAttribArray\",\"destination\",\"drawElements\",\"TRIANGLES\",\"UNSIGNED_SHORT\",\"ditheringTexture\",\"url\",\"LINEAR\",\"REPEAT\",\"RGB\",\"UNSIGNED_BYTE\",\"Uint8Array\",\"obj\",\"attach\",\"id\",\"activeTexture\",\"TEXTURE0\",\"Image\",\"src\",\"onload\",\"createTextureAsync\",\"dither\",\"init\",\"multipleSplats\",\"parseInt\",\"Math\",\"random\",\"lastColorChangeTime\",\"Date\",\"now\",\"texType\",\"rgba\",\"rg\",\"filtering\",\"simRes\",\"getResolution\",\"dyeRes\",\"bloomRes\",\"resizeDoubleFBO\",\"createDoubleFBO\",\"createFBO\",\"w\",\"h\",\"param\",\"fbo1\",\"fbo2\",\"read\",\"write\",\"swap\",\"temp\",\"viewport\",\"COLOR_BUFFER_BIT\",\"target\",\"newFBO\",\"uniform1i\",\"uniforms\",\"uTexture\",\"uniform1f\",\"resizeFBO\",\"render\",\"last\",\"disable\",\"BLEND\",\"knee\",\"curve0\",\"curve1\",\"curve2\",\"uniform3f\",\"curve\",\"dest\",\"uniform2f\",\"texelSize\",\"blendFunc\",\"ONE\",\"enable\",\"baseTex\",\"applyBloom\",\"ONE_MINUS_SRC_ALPHA\",\"drawingBufferWidth\",\"drawingBufferHeight\",\"bc\",\"uniform4f\",\"aspectRatio\",\"program\",\"uBloom\",\"uDithering\",\"scale\",\"getTextureScale\",\"ditherScale\",\"x\",\"y\",\"dx\",\"dy\",\"uTarget\",\"point\",\"radius\",\"amount\",\"generateColor\",\"v\",\"f\",\"q\",\"floor\",\"HSVtoRGB\",\"resolution\",\"max\",\"round\",\"min\",\"update\",\"pop\",\"moved\",\"input\",\"dt\",\"uVelocity\",\"uCurl\",\"uDivergence\",\"uPressure\",\"dyeTexelSize\",\"velocityId\",\"uSource\",\"step\",\"requestAnimationFrame\",\"addEventListener\",\"e\",\"down\",\"offsetX\",\"offsetY\",\"code\",\"_interopRequireWildcard\",\"vertexShader\",\"fragmentShader\",\"createProgram\",\"attachShader\",\"linkProgram\",\"getProgramParameter\",\"LINK_STATUS\",\"getProgramInfoLog\",\"uniformCount\",\"ACTIVE_UNIFORMS\",\"uniformName\",\"getActiveUniform\",\"getUniformLocation\",\"useProgram\"],\"mappings\":\"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\",\"sourcesContent\":[\"(function webpackUniversalModuleDefinition(root, factory) {\\n\\tif(typeof exports === 'object' && typeof module === 'object')\\n\\t\\tmodule.exports = factory();\\n\\telse if(typeof define === 'function' && define.amd)\\n\\t\\tdefine([], factory);\\n\\telse if(typeof exports === 'object')\\n\\t\\texports[\\\"Fluid\\\"] = factory();\\n\\telse\\n\\t\\troot[\\\"Fluid\\\"] = factory();\\n})(window, function() {\\nreturn \",\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 1);\\n\",\"export let behavior = {\\r\\n    sim_resolution: 128,\\r\\n    dye_resolution: 512,\\r\\n    paused: false,\\r\\n    clamp_values: true,\\r\\n\\r\\n    /* Fluid Dissipation Behaviors*/\\r\\n    dissipation: .97,\\r\\n    velocity: .98,\\r\\n    pressure: 1,\\r\\n    pressure_iteration: 10,\\r\\n\\r\\n    /* Fluid Color */\\r\\n    fluid_color: [\\r\\n        [0, 0, 0],\\r\\n        [.4, .2, 0]\\r\\n    ],\\r\\n\\r\\n    /* Characteristics */\\r\\n    curl: 0,\\r\\n    emitter_size: 0.5,\\r\\n    render_shaders: true,\\r\\n    multi_color: true,\\r\\n\\r\\n    /* Bloom */\\r\\n    render_bloom: true,\\r\\n    bloom_iterations: 8,\\r\\n    bloom_resolution: 256,\\r\\n    intensity: 0.8,\\r\\n    threshold: 0.6,\\r\\n    soft_knee: 0.7,\\r\\n\\r\\n    // bloom_resolution: 256*4,\\r\\n    // bloom_iterations: 1,\\r\\n    // intensity: 0.6,\\r\\n    // threshold: 0.3,\\r\\n    // soft_knee: 1.0,\\r\\n\\r\\n    /* Background */\\r\\n    background_color: { r: 15, g: 15, b: 15 },\\r\\n    transparent: false\\r\\n};\\r\\n\\r\\nexport const DRAWING_PARAMS = {\\r\\n    alpha: true,\\r\\n    depth: false,\\r\\n    stencil: false,\\r\\n    antialias: false,\\r\\n    preserveDrawingBuffer: false,\\r\\n    powerPreference: \\\"default\\\"\\r\\n};\\r\\n\\r\\nexport const SHADER_SOURCE = {\\r\\n    blank: ``,\\r\\n    vertex: `\\r\\n                  precision highp float;\\r\\n              \\r\\n                  attribute vec2 aPosition;\\r\\n                  varying vec2 vUv;\\r\\n                  varying vec2 vL;\\r\\n                  varying vec2 vR;\\r\\n                  varying vec2 vT;\\r\\n                  varying vec2 vB;\\r\\n                  uniform vec2 texelSize;\\r\\n              \\r\\n                  void main () {\\r\\n                      vUv = aPosition * 0.5 + 0.5;\\r\\n                      vL = vUv - vec2(texelSize.x, 0.0);\\r\\n                      vR = vUv + vec2(texelSize.x, 0.0);\\r\\n                      vT = vUv + vec2(0.0, texelSize.y);\\r\\n                      vB = vUv - vec2(0.0, texelSize.y);\\r\\n                      gl_Position = vec4(aPosition, 0.0, 1.0);\\r\\n                  }`,\\r\\n    clear: `\\r\\n                  precision mediump float;\\r\\n                  precision mediump sampler2D;\\r\\n              \\r\\n                  varying highp vec2 vUv;\\r\\n                  uniform sampler2D uTexture;\\r\\n                  uniform float value;\\r\\n              \\r\\n                  void main () {\\r\\n                      gl_FragColor = value * texture2D(uTexture, vUv);\\r\\n                  }\\r\\n              `,\\r\\n    color: `\\r\\n                  precision mediump float;\\r\\n              \\r\\n                  uniform vec4 color;\\r\\n              \\r\\n                  void main () {\\r\\n                      gl_FragColor = color;\\r\\n                  }\\r\\n              `,\\r\\n    background: `\\r\\n                  precision highp float;\\r\\n                  precision highp sampler2D;\\r\\n              \\r\\n                  varying vec2 vUv;\\r\\n                  uniform sampler2D uTexture;\\r\\n                  uniform float aspectRatio;\\r\\n              \\r\\n                  #define SCALE 25.0\\r\\n              \\r\\n                  void main () {\\r\\n                      vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\\r\\n                      float v = mod(uv.x + uv.y, 2.0);\\r\\n                      v = v * 0.1 + 0.8;\\r\\n                      gl_FragColor = vec4(vec3(v), 1.0);\\r\\n                  }\\r\\n              `,\\r\\n    pictureBackground: ` \\r\\n                    void main() { \\r\\n                        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); \\r\\n                    } \\r\\n            `,\\r\\n    display: `\\r\\n                  precision highp float;\\r\\n                  precision highp sampler2D;\\r\\n              \\r\\n                  varying vec2 vUv;\\r\\n                  uniform sampler2D uTexture;\\r\\n              \\r\\n                  void main () {\\r\\n                      vec3 C = texture2D(uTexture, vUv).rgb;\\r\\n                      float a = max(C.r, max(C.g, C.b));\\r\\n                      gl_FragColor = vec4(C, a);\\r\\n                  }\\r\\n              `,\\r\\n    displayBloom: `\\r\\n          precision highp float;\\r\\n          precision highp sampler2D;\\r\\n      \\r\\n          varying vec2 vUv;\\r\\n          uniform sampler2D uTexture;\\r\\n          uniform sampler2D uBloom;\\r\\n          uniform sampler2D uDithering;\\r\\n          uniform vec2 ditherScale;\\r\\n      \\r\\n          void main () {\\r\\n              vec3 C = texture2D(uTexture, vUv).rgb;\\r\\n              vec3 bloom = texture2D(uBloom, vUv).rgb;\\r\\n              vec3 noise = texture2D(uDithering, vUv * ditherScale).rgb;\\r\\n              noise = noise * 2.0 - 1.0;\\r\\n              bloom += noise / 800.0;\\r\\n              bloom = pow(bloom.rgb, vec3(1.0 / 2.2));\\r\\n              C += bloom;\\r\\n              float a = max(C.r, max(C.g, C.b));\\r\\n              gl_FragColor = vec4(C, a);\\r\\n          }\\r\\n      `,\\r\\n    displayShading: `\\r\\n          precision highp float;\\r\\n          precision highp sampler2D;\\r\\n      \\r\\n          varying vec2 vUv;\\r\\n          varying vec2 vL;\\r\\n          varying vec2 vR;\\r\\n          varying vec2 vT;\\r\\n          varying vec2 vB;\\r\\n          uniform sampler2D uTexture;\\r\\n          uniform vec2 texelSize;\\r\\n      \\r\\n          void main () {\\r\\n              vec3 L = texture2D(uTexture, vL).rgb;\\r\\n              vec3 R = texture2D(uTexture, vR).rgb;\\r\\n              vec3 T = texture2D(uTexture, vT).rgb;\\r\\n              vec3 B = texture2D(uTexture, vB).rgb;\\r\\n              vec3 C = texture2D(uTexture, vUv).rgb;\\r\\n      \\r\\n              float dx = length(R) - length(L);\\r\\n              float dy = length(T) - length(B);\\r\\n      \\r\\n              vec3 n = normalize(vec3(dx, dy, length(texelSize)));\\r\\n              vec3 l = vec3(0.0, 0.0, 1.0);\\r\\n      \\r\\n              float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\\r\\n              C.rgb *= diffuse;\\r\\n      \\r\\n              float a = max(C.r, max(C.g, C.b));\\r\\n              gl_FragColor = vec4(C, a);\\r\\n          }\\r\\n      `,\\r\\n    displayBloomShading: `\\r\\n          precision highp float;\\r\\n          precision highp sampler2D;\\r\\n      \\r\\n          varying vec2 vUv;\\r\\n          varying vec2 vL;\\r\\n          varying vec2 vR;\\r\\n          varying vec2 vT;\\r\\n          varying vec2 vB;\\r\\n          uniform sampler2D uTexture;\\r\\n          uniform sampler2D uBloom;\\r\\n          uniform sampler2D uDithering;\\r\\n          uniform vec2 ditherScale;\\r\\n          uniform vec2 texelSize;\\r\\n      \\r\\n          void main () {\\r\\n              vec3 L = texture2D(uTexture, vL).rgb;\\r\\n              vec3 R = texture2D(uTexture, vR).rgb;\\r\\n              vec3 T = texture2D(uTexture, vT).rgb;\\r\\n              vec3 B = texture2D(uTexture, vB).rgb;\\r\\n              vec3 C = texture2D(uTexture, vUv).rgb;\\r\\n      \\r\\n              float dx = length(R) - length(L);\\r\\n              float dy = length(T) - length(B);\\r\\n      \\r\\n              vec3 n = normalize(vec3(dx, dy, length(texelSize)));\\r\\n              vec3 l = vec3(0.0, 0.0, 1.0);\\r\\n      \\r\\n              float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\\r\\n              C *= diffuse;\\r\\n      \\r\\n              vec3 bloom = texture2D(uBloom, vUv).rgb;\\r\\n              vec3 noise = texture2D(uDithering, vUv * ditherScale).rgb;\\r\\n              noise = noise * 2.0 - 1.0;\\r\\n              bloom += noise / 800.0;\\r\\n              bloom = pow(bloom.rgb, vec3(1.0 / 2.2));\\r\\n              C += bloom;\\r\\n      \\r\\n              float a = max(C.r, max(C.g, C.b));\\r\\n              gl_FragColor = vec4(C, a);\\r\\n          }\\r\\n      `,\\r\\n    bloomPreFilter: `\\r\\n          precision mediump float;\\r\\n          precision mediump sampler2D;\\r\\n      \\r\\n          varying vec2 vUv;\\r\\n          uniform sampler2D uTexture;\\r\\n          uniform vec3 curve;\\r\\n          uniform float threshold;\\r\\n      \\r\\n          void main () {\\r\\n              vec3 c = texture2D(uTexture, vUv).rgb;\\r\\n              float br = max(c.r, max(c.g, c.b));\\r\\n              float rq = clamp(br - curve.x, 0.0, curve.y);\\r\\n              rq = curve.z * rq * rq;\\r\\n              c *= max(rq, br - threshold) / max(br, 0.0001);\\r\\n              gl_FragColor = vec4(c, 0.0);\\r\\n          }\\r\\n      `,\\r\\n    bloomBlur: `\\r\\n          precision mediump float;\\r\\n          precision mediump sampler2D;\\r\\n      \\r\\n          varying vec2 vL;\\r\\n          varying vec2 vR;\\r\\n          varying vec2 vT;\\r\\n          varying vec2 vB;\\r\\n          uniform sampler2D uTexture;\\r\\n      \\r\\n          void main () {\\r\\n              vec4 sum = vec4(0.0);\\r\\n              sum += texture2D(uTexture, vL);\\r\\n              sum += texture2D(uTexture, vR);\\r\\n              sum += texture2D(uTexture, vT);\\r\\n              sum += texture2D(uTexture, vB);\\r\\n              sum *= 0.25;\\r\\n              gl_FragColor = sum;\\r\\n          }\\r\\n      `,\\r\\n    bloomFinal: `\\r\\n          precision mediump float;\\r\\n          precision mediump sampler2D;\\r\\n      \\r\\n          varying vec2 vL;\\r\\n          varying vec2 vR;\\r\\n          varying vec2 vT;\\r\\n          varying vec2 vB;\\r\\n          uniform sampler2D uTexture;\\r\\n          uniform float intensity;\\r\\n      \\r\\n          void main () {\\r\\n              vec4 sum = vec4(0.0);\\r\\n              sum += texture2D(uTexture, vL);\\r\\n              sum += texture2D(uTexture, vR);\\r\\n              sum += texture2D(uTexture, vT);\\r\\n              sum += texture2D(uTexture, vB);\\r\\n              sum *= 0.25;\\r\\n              gl_FragColor = sum * intensity;\\r\\n          }\\r\\n      `,\\r\\n    splat: `\\r\\n          precision highp float;\\r\\n          precision highp sampler2D;\\r\\n      \\r\\n          varying vec2 vUv;\\r\\n          uniform sampler2D uTarget;\\r\\n          uniform float aspectRatio;\\r\\n          uniform vec3 color;\\r\\n          uniform vec2 point;\\r\\n          uniform float radius;\\r\\n      \\r\\n          void main () {\\r\\n              vec2 p = vUv - point.xy;\\r\\n              p.x *= aspectRatio;\\r\\n              vec3 splat = exp(-dot(p, p) / radius) * color;\\r\\n              vec3 base = texture2D(uTarget, vUv).xyz;\\r\\n              gl_FragColor = vec4(base + splat, 1.0);\\r\\n          }\\r\\n      `,\\r\\n    advectionManualFiltering: `\\r\\n          precision highp float;\\r\\n          precision highp sampler2D;\\r\\n      \\r\\n          varying vec2 vUv;\\r\\n          uniform sampler2D uVelocity;\\r\\n          uniform sampler2D uSource;\\r\\n          uniform vec2 texelSize;\\r\\n          uniform vec2 dyeTexelSize;\\r\\n          uniform float dt;\\r\\n          uniform float dissipation;\\r\\n      \\r\\n          vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\\r\\n              vec2 st = uv / tsize - 0.5;\\r\\n      \\r\\n              vec2 iuv = floor(st);\\r\\n              vec2 fuv = fract(st);\\r\\n      \\r\\n              vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\\r\\n              vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\\r\\n              vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\\r\\n              vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\\r\\n      \\r\\n              return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\\r\\n          }\\r\\n      \\r\\n          void main () {\\r\\n              vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\\r\\n              gl_FragColor = dissipation * bilerp(uSource, coord, dyeTexelSize);\\r\\n              gl_FragColor.a = 1.0;\\r\\n          }\\r\\n      `,\\r\\n    advection: `\\r\\n          precision highp float;\\r\\n          precision highp sampler2D;\\r\\n      \\r\\n          varying vec2 vUv;\\r\\n          uniform sampler2D uVelocity;\\r\\n          uniform sampler2D uSource;\\r\\n          uniform vec2 texelSize;\\r\\n          uniform float dt;\\r\\n          uniform float dissipation;\\r\\n      \\r\\n          void main () {\\r\\n              vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\\r\\n              gl_FragColor = dissipation * texture2D(uSource, coord);\\r\\n              gl_FragColor.a = 1.0;\\r\\n          }\\r\\n      `,\\r\\n    divergence: `\\r\\n          precision mediump float;\\r\\n          precision mediump sampler2D;\\r\\n      \\r\\n          varying highp vec2 vUv;\\r\\n          varying highp vec2 vL;\\r\\n          varying highp vec2 vR;\\r\\n          varying highp vec2 vT;\\r\\n          varying highp vec2 vB;\\r\\n          uniform sampler2D uVelocity;\\r\\n      \\r\\n          void main () {\\r\\n              float L = texture2D(uVelocity, vL).x;\\r\\n              float R = texture2D(uVelocity, vR).x;\\r\\n              float T = texture2D(uVelocity, vT).y;\\r\\n              float B = texture2D(uVelocity, vB).y;\\r\\n      \\r\\n              vec2 C = texture2D(uVelocity, vUv).xy;\\r\\n              if (vL.x < 0.0) { L = -C.x; }\\r\\n              if (vR.x > 1.0) { R = -C.x; }\\r\\n              if (vT.y > 1.0) { T = -C.y; }\\r\\n              if (vB.y < 0.0) { B = -C.y; }\\r\\n      \\r\\n              float div = 0.5 * (R - L + T - B);\\r\\n              gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\\r\\n          }\\r\\n      `,\\r\\n    curl: `\\r\\n          precision mediump float;\\r\\n          precision mediump sampler2D;\\r\\n      \\r\\n          varying highp vec2 vUv;\\r\\n          varying highp vec2 vL;\\r\\n          varying highp vec2 vR;\\r\\n          varying highp vec2 vT;\\r\\n          varying highp vec2 vB;\\r\\n          uniform sampler2D uVelocity;\\r\\n      \\r\\n          void main () {\\r\\n              float L = texture2D(uVelocity, vL).y;\\r\\n              float R = texture2D(uVelocity, vR).y;\\r\\n              float T = texture2D(uVelocity, vT).x;\\r\\n              float B = texture2D(uVelocity, vB).x;\\r\\n              float vorticity = R - L - T + B;\\r\\n              gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\\r\\n          }\\r\\n      `,\\r\\n    vorticity: `\\r\\n          precision highp float;\\r\\n          precision highp sampler2D;\\r\\n      \\r\\n          varying vec2 vUv;\\r\\n          varying vec2 vL;\\r\\n          varying vec2 vR;\\r\\n          varying vec2 vT;\\r\\n          varying vec2 vB;\\r\\n          uniform sampler2D uVelocity;\\r\\n          uniform sampler2D uCurl;\\r\\n          uniform float curl;\\r\\n          uniform float dt;\\r\\n      \\r\\n          void main () {\\r\\n              float L = texture2D(uCurl, vL).x;\\r\\n              float R = texture2D(uCurl, vR).x;\\r\\n              float T = texture2D(uCurl, vT).x;\\r\\n              float B = texture2D(uCurl, vB).x;\\r\\n              float C = texture2D(uCurl, vUv).x;\\r\\n      \\r\\n              vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\\r\\n              force /= length(force) + 0.0001;\\r\\n              force *= curl * C;\\r\\n              force.y *= -1.0;\\r\\n      \\r\\n              vec2 vel = texture2D(uVelocity, vUv).xy;\\r\\n              gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\\r\\n          }\\r\\n      `,\\r\\n    pressure: `\\r\\n          precision mediump float;\\r\\n          precision mediump sampler2D;\\r\\n      \\r\\n          varying highp vec2 vUv;\\r\\n          varying highp vec2 vL;\\r\\n          varying highp vec2 vR;\\r\\n          varying highp vec2 vT;\\r\\n          varying highp vec2 vB;\\r\\n          uniform sampler2D uPressure;\\r\\n          uniform sampler2D uDivergence;\\r\\n      \\r\\n          vec2 boundary (vec2 uv) {\\r\\n              return uv;\\r\\n              // uncomment if you use wrap or repeat texture mode\\r\\n              // uv = min(max(uv, 0.0), 1.0);\\r\\n              // return uv;\\r\\n          }\\r\\n      \\r\\n          void main () {\\r\\n              float L = texture2D(uPressure, boundary(vL)).x;\\r\\n              float R = texture2D(uPressure, boundary(vR)).x;\\r\\n              float T = texture2D(uPressure, boundary(vT)).x;\\r\\n              float B = texture2D(uPressure, boundary(vB)).x;\\r\\n              float C = texture2D(uPressure, vUv).x;\\r\\n              float divergence = texture2D(uDivergence, vUv).x;\\r\\n              float pressure = (L + R + B + T - divergence) * 0.25;\\r\\n              gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\\r\\n          }\\r\\n      `,\\r\\n    gradientSubtract: `\\r\\n          precision mediump float;\\r\\n          precision mediump sampler2D;\\r\\n      \\r\\n          varying highp vec2 vUv;\\r\\n          varying highp vec2 vL;\\r\\n          varying highp vec2 vR;\\r\\n          varying highp vec2 vT;\\r\\n          varying highp vec2 vB;\\r\\n          uniform sampler2D uPressure;\\r\\n          uniform sampler2D uVelocity;\\r\\n      \\r\\n          vec2 boundary (vec2 uv) {\\r\\n              return uv;\\r\\n              // uv = min(max(uv, 0.0), 1.0);\\r\\n              // return uv;\\r\\n          }\\r\\n      \\r\\n          void main () {\\r\\n              float L = texture2D(uPressure, boundary(vL)).x;\\r\\n              float R = texture2D(uPressure, boundary(vR)).x;\\r\\n              float T = texture2D(uPressure, boundary(vT)).x;\\r\\n              float B = texture2D(uPressure, boundary(vB)).x;\\r\\n              vec2 velocity = texture2D(uVelocity, vUv).xy;\\r\\n              velocity.xy -= vec2(R - L, T - B);\\r\\n              gl_FragColor = vec4(velocity, 0.0, 1.0);\\r\\n          }\\r\\n      `\\r\\n};\\r\\n\\r\\nexport function setBehaviors(params) {\\r\\n    behavior = {...behavior, ...params};\\r\\n}\\r\\n\",\"/* Refs\\r\\nhttps://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Constants\\r\\n */\\r\\n'use strict';\\r\\nimport { behavior, setBehaviors } from \\\"./defualts\\\";\\r\\nimport { initWebGL, activator } from './initializer';\\r\\n\\r\\nmodule.exports = class Fluid {\\r\\n    constructor(canvas){\\r\\n        this.PARAMS = behavior;\\r\\n\\r\\n        /* Set canvas to desired width and height\\r\\n           TODO: Change to dynamic sizing  */\\r\\n        canvas.width  = canvas.clientWidth;\\r\\n        canvas.height = canvas.clientHeight;\\r\\n        this.canvas = canvas;\\r\\n\\r\\n        const {programs, webGL, colorFormats, pointers} = initWebGL();\\r\\n        this.programs = programs;\\r\\n        this.webGL = webGL;\\r\\n        this.colorFormats = colorFormats;\\r\\n        this.pointers = pointers;\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * Activate Fluid Canvas\\r\\n     *  Initiates WebGL fluid loop.\\r\\n     *\\r\\n     *  TODO: Finish commenting\\r\\n     *\\r\\n     */\\r\\n    activate() {\\r\\n        activator(this.canvas, this.webGL, this.colorFormats, this.programs, this.pointers);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * Deactivate Fluid Canvas\\r\\n     *  Notifies active fluid canvas to clear buffers and erase fluid from call stack.\\r\\n     *\\r\\n     */\\r\\n    deactivate(){\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * Reset Fluid Simulation\\r\\n     *  Re-initializes WebGL context and activates simulation based on new context.\\r\\n     *\\r\\n     */\\r\\n    reset() {\\r\\n        initWebGL();\\r\\n        this.activate();\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * Map Fluid Behaviors\\r\\n     *  Uses spread operators to add parameter values only in the places specified.\\r\\n     *\\r\\n     * @param params: specific parameter value.\\r\\n     *\\r\\n     */\\r\\n    mapBehaviors(params) {\\r\\n        this.PARAMS = {...this.PARAMS, ...params};\\r\\n        setBehaviors(this.PARAMS);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * Set Fluid as Background\\r\\n     *  Pushes canvas back in z space and absolutely positions it.\\r\\n     *\\r\\n     * @param shouldSet: true sets it, false un-sets it. Defaults to true.\\r\\n     *\\r\\n     */\\r\\n    setAsBackground(shouldSet = true) {\\r\\n        /* Pushes back in Z Index */\\r\\n        canvas.style.zIndex = shouldSet ? '-99' : '0';\\r\\n\\r\\n        /* Position Absolutely */\\r\\n        canvas.style.position = shouldSet ? 'absolute' : 'relative';\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * Apply Background\\r\\n     *  Sets fluid canvas's background and resets view.\\r\\n     *\\r\\n     * @param type: Image, Gradient, or Solid. The type of background to be applied.\\r\\n     * @param value: The value to apply to the image type.\\r\\n     * @param options: Additional options to configure background (optional)\\r\\n     *\\r\\n     */\\r\\n    applyBackground(type, value, options = null) {\\r\\n        type = type.toLowerCase();\\r\\n\\r\\n        /* Make transparent */\\r\\n        this.PARAMS.transparent = true;\\r\\n\\r\\n        /* Check for Background Type */\\r\\n        switch (type) {\\r\\n            case 'gradient': gradient();\\r\\n                break;\\r\\n            case 'image': image();\\r\\n                break;\\r\\n            case 'solid':\\r\\n            /* Make Opaque Background and Set Color\\r\\n            *  value must be in { r: red, b: blue, g: green } format\\r\\n            *\\r\\n            *  Best way to change background color:\\r\\n            *\\r\\n            *  yourFluid.PARAM.BACK_COLOR.R = red;\\r\\n            *  yourFluid.PARAM.BACK_COLOR.G = blue;\\r\\n            *  yourFluid.PARAM.BACK_COLOR.B = green;\\r\\n            *\\r\\n            *  or\\r\\n            *\\r\\n            *  let color = {\\r\\n            *       r: red,\\r\\n            *       b: blue,\\r\\n            *       g: green\\r\\n            *   };\\r\\n            *\\r\\n            *   yourFluid.PARAM.BACK_COLOR = color;\\r\\n            * */\\r\\n            default:\\r\\n                this.PARAMS.transparent = false;\\r\\n                this.PARAMS.background_color = value;\\r\\n        }\\r\\n\\r\\n        /* Reset WebGL */\\r\\n        this.reset();\\r\\n\\r\\n        /** Set to Gradient\\r\\n         *  Sets canvas background value to desired gradient.\\r\\n         */\\r\\n        function gradient() {\\r\\n            /** Gradient\\r\\n             *  Holds the gradient css statement.\\r\\n             *\\r\\n             * @type {string}\\r\\n             */\\r\\n            let gradient = \\\"\\\";\\r\\n\\r\\n            /* Configure Gradient to Options */\\r\\n            switch (options) {\\r\\n                case 'radial':\\r\\n                    gradient = \\\"radial-gradient(\\\" + value + \\\")\\\";\\r\\n                    break;\\r\\n                case 'conic':\\r\\n                    gradient = \\\"conic-gradient(\\\" + value + \\\")\\\";\\r\\n                    break;\\r\\n                case 'repeating-linear':\\r\\n                    gradient = \\\"repeating-linear-gradient(\\\" + value + \\\")\\\";\\r\\n                    break;\\r\\n                case 'repeating-radial':\\r\\n                    gradient = \\\"repeating-radial-gradient(\\\" + value + \\\")\\\";\\r\\n                    break;\\r\\n                case 'linear':\\r\\n                default:\\r\\n                    gradient = \\\"linear-gradient(\\\" + value + \\\")\\\";\\r\\n            }\\r\\n\\r\\n            /* Set Gradient Dom Style */\\r\\n            canvas.style.backgroundImage = gradient;\\r\\n        }\\r\\n\\r\\n        /** Set to Image\\r\\n         *  Sets canvas background image value to desired image and configure styles.\\r\\n         */\\r\\n        function image() {\\r\\n            /* Set background image to desired URL, throw error if invalid URL */\\r\\n            canvas.style.backgroundImage = \\\"url('\\\" + value + \\\"')\\\";\\r\\n\\r\\n            /* Modify CSS Properties */\\r\\n            if(options){\\r\\n                /* Set Repeat */\\r\\n                canvas.style.backgroundRepeat   = options.repeat   ? 'repeat' : 'no-repeat';\\r\\n\\r\\n                /* Set Position */\\r\\n                canvas.style.backgroundPosition = options.position ? options.position : 'center';\\r\\n\\r\\n                /* Set Size */\\r\\n                canvas.style.backgroundSize     = options.size     ? options.size : 'contain';\\r\\n\\r\\n                /* Set Color */\\r\\n                canvas.style.backgroundColor    = options.color    ? options.color : 'none';\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n};\\r\\n\",\"import * as defualts from \\\"./defualts\\\";\\r\\nimport * as dither from \\\"../assets/dither.png\\\";\\r\\n\\r\\nlet active = false;\\r\\nlet cancel = false;\\r\\n\\r\\n/**\\r\\n * Initiate WebGL Object\\r\\n *  Gets WebGL context and compiles shader programs.\\r\\n *\\r\\n */\\r\\nexport function initWebGL(){\\r\\n    /* Add default pointer */\\r\\n    let pointers = [];\\r\\n    pointers.push( new Pointer() );\\r\\n\\r\\n    /* Get webGL context */\\r\\n    let webGL = canvas.getContext('webgl2', defualts.DRAWING_PARAMS);\\r\\n    const isWebGL2 = !!webGL;\\r\\n    if (!isWebGL2)\\r\\n        webGL = canvas.getContext('webgl', defualts.DRAWING_PARAMS) || canvas.getContext('experimental-webgl', defualts.DRAWING_PARAMS);\\r\\n\\r\\n    /* Get color formats */\\r\\n    let colorFormats = getFormats();\\r\\n\\r\\n    /* Case support adjustments */\\r\\n    if (isMobile())\\r\\n        defualts.behavior.render_shaders = false;\\r\\n    if (!colorFormats.supportLinearFiltering) {\\r\\n        console.log('no bloom');\\r\\n        defualts.behavior.render_shaders = false;\\r\\n        defualts.behavior.render_bloom = false;\\r\\n    }\\r\\n\\r\\n    /* Make our shaders and shader programs */\\r\\n    const SHADER = {\\r\\n        baseVertex               : compileShader(webGL.VERTEX_SHADER, defualts.SHADER_SOURCE.vertex),\\r\\n\\r\\n        clear                    : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.clear),\\r\\n        color                    : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.color),\\r\\n        background               : compileShader(webGL.FRAGMENT_SHADER, defualts.behavior.transparent ? defualts.SHADER_SOURCE.pictureBackground : defualts.SHADER_SOURCE.background),\\r\\n        display                  : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.display),\\r\\n        displayBloom             : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.displayBloom),\\r\\n        displayShading           : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.displayShading),\\r\\n        displayBloomShading      : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.displayBloomShading),\\r\\n        bloomPreFilter           : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.bloomPreFilter),\\r\\n        bloomBlur                : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.bloomBlur),\\r\\n        bloomFinal               : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.bloomFinal),\\r\\n        splat                    : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.splat),\\r\\n        advectionManualFiltering : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.advectionManualFiltering),\\r\\n        advection                : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.advection),\\r\\n        divergence               : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.divergence),\\r\\n        curl                     : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.curl),\\r\\n        vorticity                : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.vorticity),\\r\\n        pressure                 : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.pressure),\\r\\n        gradientSubtract         : compileShader(webGL.FRAGMENT_SHADER, defualts.SHADER_SOURCE.gradientSubtract)\\r\\n    };\\r\\n    let programs = formShaderPrograms(colorFormats.supportLinearFiltering);\\r\\n\\r\\n    /* Worker Classes and Functions */\\r\\n    /**\\r\\n     *  Is It Mobile?:\\r\\n     *  Detects whether or not a device is mobile by checking the user agent string\\r\\n     *\\r\\n     * @returns {boolean}\\r\\n     */\\r\\n    function isMobile () {\\r\\n        return /Mobi|Android/i.test(navigator.userAgent);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     *  Get Formats:\\r\\n     *  Enable color extensions, linear filtering extensions, and return usable color formats RGBA,\\r\\n     *  RG (Red-Green), and R (Red).\\r\\n     *\\r\\n     * @returns {{formatRGBA: {internalFormat, format}, supportLinearFiltering: OES_texture_half_float_linear,\\r\\n     * formatR: {internalFormat, format}, halfFloatTexType: *, formatRG: {internalFormat, format}}}\\r\\n     */\\r\\n    function getFormats() {\\r\\n        /* Color Formats */\\r\\n        let formatRGBA;\\r\\n        let formatRG;\\r\\n        let formatR;\\r\\n\\r\\n        let halfFloat;\\r\\n        let supportLinearFiltering;\\r\\n\\r\\n        /* Enables webGL color extensions and get linear filtering extension*/\\r\\n        if (isWebGL2) {\\r\\n            webGL.getExtension('EXT_color_buffer_float');\\r\\n            supportLinearFiltering = webGL.getExtension('OES_texture_float_linear');\\r\\n        } else {\\r\\n            halfFloat = webGL.getExtension('OES_texture_half_float');\\r\\n            supportLinearFiltering = webGL.getExtension('OES_texture_half_float_linear');\\r\\n        }\\r\\n        const HALF_FLOAT_TEXTURE_TYPE = isWebGL2 ? webGL.HALF_FLOAT : halfFloat.HALF_FLOAT_OES;\\r\\n\\r\\n        /* Set color to black for when color buffers are cleared */\\r\\n        webGL.clearColor(0.0, 0.0, 0.0, 1.0);\\r\\n\\r\\n        /* Retrieve color formats */\\r\\n        if (isWebGL2) {\\r\\n            formatRGBA = getSupportedFormat(webGL.RGBA16F, webGL.RGBA, HALF_FLOAT_TEXTURE_TYPE);\\r\\n            formatRG = getSupportedFormat(webGL.RG16F, webGL.RG, HALF_FLOAT_TEXTURE_TYPE);\\r\\n            formatR = getSupportedFormat(webGL.R16F, webGL.RED, HALF_FLOAT_TEXTURE_TYPE);\\r\\n        } else {\\r\\n            formatRGBA = getSupportedFormat(webGL.RGBA, webGL.RGBA, HALF_FLOAT_TEXTURE_TYPE);\\r\\n            formatRG = getSupportedFormat(webGL.RGBA, webGL.RGBA, HALF_FLOAT_TEXTURE_TYPE);\\r\\n            formatR = getSupportedFormat(webGL.RGBA, webGL.RGBA, HALF_FLOAT_TEXTURE_TYPE);\\r\\n        }\\r\\n\\r\\n        /** Get Supported Format\\r\\n         *  Using the specified internal format, we retrieve and return the desired color format to be\\r\\n         *  rendered with\\r\\n         *\\r\\n         * @param internalFormat: A GLenum that specifies the color components within the texture\\r\\n         * @param format: Another GLenum that specifies the format of the texel data.\\r\\n         * @returns {{internalFormat: *, format: *}|null|({internalFormat, format}|null)}\\r\\n         */\\r\\n        function getSupportedFormat (internalFormat, format, type) {\\r\\n            let isSupportRenderTextureFormat;\\r\\n            let texture = webGL.createTexture();\\r\\n\\r\\n            /* Set texture parameters */\\r\\n            webGL.bindTexture(webGL.TEXTURE_2D, texture);\\r\\n            webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_MIN_FILTER, webGL.NEAREST);\\r\\n            webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_MAG_FILTER, webGL.NEAREST);\\r\\n            webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_WRAP_S, webGL.CLAMP_TO_EDGE);\\r\\n            webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_WRAP_T, webGL.CLAMP_TO_EDGE);\\r\\n\\r\\n            /* Specify a 2D texture image */\\r\\n            webGL.texImage2D(webGL.TEXTURE_2D, 0, internalFormat, 4, 4, 0, format, type, null);\\r\\n\\r\\n            /* Attach texture to frame buffer */\\r\\n            let fbo = webGL.createFramebuffer();\\r\\n            webGL.bindFramebuffer(webGL.FRAMEBUFFER, fbo);\\r\\n            webGL.framebufferTexture2D(webGL.FRAMEBUFFER, webGL.COLOR_ATTACHMENT0, webGL.TEXTURE_2D, texture, 0);\\r\\n\\r\\n            /* Check if current format is supported */\\r\\n            const status = webGL.checkFramebufferStatus(webGL.FRAMEBUFFER);\\r\\n            isSupportRenderTextureFormat = status === webGL.FRAMEBUFFER_COMPLETE;\\r\\n\\r\\n            /* If not supported use fallback format, until we have no fallback */\\r\\n            if (!isSupportRenderTextureFormat) {\\r\\n                switch (internalFormat) {\\r\\n                    case webGL.R16F:\\r\\n                        return getSupportedFormat(webGL.RG16F, webGL.RG, type);\\r\\n                    case webGL.RG16F:\\r\\n                        return getSupportedFormat(webGL.RGBA16F, webGL.RGBA, type);\\r\\n                    default:\\r\\n                        return null;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            return { internalFormat, format };\\r\\n        }\\r\\n\\r\\n        return {\\r\\n            formatRGBA,\\r\\n            formatRG,\\r\\n            formatR,\\r\\n\\r\\n            halfFloatTexType: HALF_FLOAT_TEXTURE_TYPE,\\r\\n            supportLinearFiltering\\r\\n        };\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     *  Compile Shader:\\r\\n     *  Makes a new webGL shader of type `type` using the provided GLSL source. The `type` is either of\\r\\n     *  `VERTEX_SHADER` or `FRAGMENT_SHADER`\\r\\n     *\\r\\n     * @param type: Passed to `createShader` to define the shader type\\r\\n     * @param source: A GLSL source script, used to define the shader properties\\r\\n     * @returns {WebGLShader}: A webGL shader of the parameterized type and source\\r\\n     */\\r\\n    function compileShader (type, source) {\\r\\n        /* Create shader, link the source, and compile the GLSL*/\\r\\n        const shader = webGL.createShader(type);\\r\\n        webGL.shaderSource(shader, source);\\r\\n        webGL.compileShader(shader);\\r\\n\\r\\n        /* TODO: Finish error checking */\\r\\n        if (!webGL.getShaderParameter(shader, webGL.COMPILE_STATUS))\\r\\n            throw webGL.getShaderInfoLog(shader);\\r\\n\\r\\n        return shader;\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     *  Form Shader Programs:\\r\\n     *  Assembles shaders into a webGl program we can use to write to our context\\r\\n     *\\r\\n     * @param supportLinearFiltering: A bool letting us know if we support linear filtering\\r\\n     * @returns {{displayBloomProgram: GLProgram, vorticityProgram: GLProgram, displayShadingProgram: GLProgram,\\r\\n     * displayBloomShadingProgram: GLProgram, gradientSubtractProgram: GLProgram, advectionProgram: GLProgram,\\r\\n     * bloomBlurProgram: GLProgram, colorProgram: GLProgram, divergenceProgram: GLProgram, clearProgram: GLProgram,\\r\\n     * splatProgram: GLProgram, displayProgram: GLProgram, bloomPreFilterProgram: GLProgram, curlProgram: GLProgram,\\r\\n     * bloomFinalProgram: GLProgram, pressureProgram: GLProgram, backgroundProgram: GLProgram}}: Programs used to\\r\\n     * render shaders\\r\\n     *\\r\\n     */\\r\\n    function formShaderPrograms(supportLinearFiltering){\\r\\n        return {\\r\\n            clearProgram: new GLProgram(SHADER.baseVertex, SHADER.clear, webGL),\\r\\n            colorProgram: new GLProgram(SHADER.baseVertex, SHADER.color, webGL),\\r\\n            backgroundProgram: new GLProgram(SHADER.baseVertex, SHADER.background, webGL),\\r\\n            displayProgram: new GLProgram(SHADER.baseVertex, SHADER.display, webGL),\\r\\n            displayBloomProgram: new GLProgram(SHADER.baseVertex, SHADER.displayBloom, webGL),\\r\\n            displayShadingProgram: new GLProgram(SHADER.baseVertex, SHADER.displayShading, webGL),\\r\\n            displayBloomShadingProgram: new GLProgram(SHADER.baseVertex, SHADER.displayBloomShading, webGL),\\r\\n            bloomPreFilterProgram: new GLProgram(SHADER.baseVertex, SHADER.bloomPreFilter, webGL),\\r\\n            bloomBlurProgram: new GLProgram(SHADER.baseVertex, SHADER.bloomBlur, webGL),\\r\\n            bloomFinalProgram: new GLProgram(SHADER.baseVertex, SHADER.bloomFinal, webGL),\\r\\n            splatProgram: new GLProgram(SHADER.baseVertex, SHADER.splat, webGL),\\r\\n            advectionProgram: new GLProgram(SHADER.baseVertex, supportLinearFiltering ? SHADER.advection : SHADER.advectionManualFiltering, webGL),\\r\\n            divergenceProgram: new GLProgram(SHADER.baseVertex, SHADER.divergence, webGL),\\r\\n            curlProgram: new GLProgram(SHADER.baseVertex, SHADER.curl, webGL),\\r\\n            vorticityProgram: new GLProgram(SHADER.baseVertex, SHADER.vorticity, webGL),\\r\\n            pressureProgram: new GLProgram(SHADER.baseVertex, SHADER.pressure, webGL),\\r\\n            gradientSubtractProgram: new GLProgram(SHADER.baseVertex, SHADER.gradientSubtract, webGL)\\r\\n        };\\r\\n    }\\r\\n\\r\\n    return {\\r\\n        programs: programs,\\r\\n        webGL: webGL,\\r\\n        colorFormats: colorFormats,\\r\\n        pointers: pointers\\r\\n    }\\r\\n}\\r\\n\\r\\nexport function activator(canvas, webGL, colorFormat, PROGRAMS, pointers) {\\r\\n    if(active){\\r\\n        let nPointers = [];\\r\\n        nPointers.push( new Pointer() );\\r\\n        pointers = nPointers;\\r\\n    }\\r\\n\\r\\n    active = true;\\r\\n\\r\\n    /* TODO: Retrieve haul style */\\r\\n    const PARAMS = defualts.behavior;\\r\\n\\r\\n    let bloomFrameBuffers = [];\\r\\n    let splatStack = [];\\r\\n\\r\\n    let simWidth;\\r\\n    let simHeight;\\r\\n    let dyeWidth;\\r\\n    let dyeHeight;\\r\\n    let density;\\r\\n    let velocity;\\r\\n    let divergence;\\r\\n    let curl;\\r\\n    let pressure;\\r\\n    let bloom;\\r\\n\\r\\n    const blit = (() => {\\r\\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, webGL.createBuffer());\\r\\n        webGL.bufferData(webGL.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), webGL.STATIC_DRAW);\\r\\n\\r\\n        webGL.bindBuffer(webGL.ELEMENT_ARRAY_BUFFER, webGL.createBuffer());\\r\\n        webGL.bufferData(webGL.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), webGL.STATIC_DRAW);\\r\\n\\r\\n        webGL.vertexAttribPointer(0, 2, webGL.FLOAT, false, 0, 0);\\r\\n        webGL.enableVertexAttribArray(0);\\r\\n\\r\\n        return (destination) => {\\r\\n            webGL.bindFramebuffer(webGL.FRAMEBUFFER, destination);\\r\\n            webGL.drawElements(webGL.TRIANGLES, 6, webGL.UNSIGNED_SHORT, 0);\\r\\n        }\\r\\n    })();\\r\\n\\r\\n    /** Dithering Texture\\r\\n     *  Initialize fluid overlay/dither\\r\\n     *\\r\\n     * @type {{texture: WebGLTexture, width: number, attach(*): *, height: number}}\\r\\n     */\\r\\n    let ditheringTexture = createTextureAsync(dither.default);\\r\\n\\r\\n    /* Initialize Fluid */\\r\\n    init();\\r\\n    multipleSplats(parseInt(Math.random() * 20) + 5);\\r\\n\\r\\n    /* Game Loop */\\r\\n    let lastColorChangeTime = Date.now();\\r\\n    update();\\r\\n\\r\\n    /* Game Loop */\\r\\n\\r\\n    /**\\r\\n     * Initialize Fluid\\r\\n     *  Prepares frame buffers for rendering\\r\\n     *\\r\\n     */\\r\\n    function init() {\\r\\n        /* Color Formats */\\r\\n        const texType = colorFormat.halfFloatTexType;\\r\\n        const rgba = colorFormat.formatRGBA;\\r\\n        const rg = colorFormat.formatRG;\\r\\n        const r = colorFormat.formatR;\\r\\n        const filtering = colorFormat.supportLinearFiltering ? webGL.LINEAR : webGL.NEAREST;\\r\\n\\r\\n        /* Set simulation and pointer width and height */\\r\\n        let simRes = getResolution(PARAMS.sim_resolution);\\r\\n        let dyeRes = getResolution(PARAMS.dye_resolution);\\r\\n        let bloomRes = getResolution(PARAMS.bloom_resolution);\\r\\n\\r\\n        simWidth = simRes.width;\\r\\n        simHeight = simRes.height;\\r\\n        dyeWidth = dyeRes.width;\\r\\n        dyeHeight = dyeRes.height;\\r\\n\\r\\n        /* Density, Velocity, and Bloom Double Frame Buffers */\\r\\n        density = !density ?\\r\\n            createDoubleFBO(dyeWidth, dyeHeight, rgba.internalFormat, rgba.format, texType, filtering) :\\r\\n            resizeDoubleFBO(density, dyeWidth, dyeHeight, rgba.internalFormat, rgba.format, texType, filtering);\\r\\n        velocity = !velocity ?\\r\\n            createDoubleFBO(simWidth, simHeight, rg.internalFormat, rg.format, texType, filtering) :\\r\\n            resizeDoubleFBO(velocity, simWidth, simHeight, rg.internalFormat, rg.format, texType, filtering);\\r\\n\\r\\n        bloom = createFBO(bloomRes.width, bloomRes.height, rgba.internalFormat, rgba.format, texType, filtering);\\r\\n\\r\\n        /* Divergence, Curl, and Pressure Frame Buffers */\\r\\n        divergence = createFBO(simWidth, simHeight, r.internalFormat, r.format, texType, webGL.NEAREST);\\r\\n        curl = createFBO(simWidth, simHeight, r.internalFormat, r.format, texType, webGL.NEAREST);\\r\\n        pressure = createDoubleFBO(simWidth, simHeight, r.internalFormat, r.format, texType, webGL.NEAREST);\\r\\n\\r\\n        /* Populate bloom's frame buffer stack by iterating through bloom iterations\\r\\n        *  Each iteration, we offset the scale linearly at a constant rate*/\\r\\n        bloomFrameBuffers.length = 0;\\r\\n        for (let i = 0; i < PARAMS.bloom_iterations; i++) {\\r\\n            /* Offset scale by a factor of 1 plus our current iteration*/\\r\\n            let width = bloomRes.width >> (i + 1);\\r\\n            let height = bloomRes.height >> (i + 1);\\r\\n\\r\\n            /* Don't create frame buffer */\\r\\n            if (width < 2 || height < 2) break;\\r\\n\\r\\n            /* Create Frame Buffer for Bloom iterations */\\r\\n            let fbo = createFBO(width, height, rgba.internalFormat, rgba.format, texType, filtering);\\r\\n            bloomFrameBuffers.push(fbo);\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * Create Double Frame Buffer Object\\r\\n     *  Creates an object with 2 frame buffers, one for reads and one for writes\\r\\n     *\\r\\n     * @param w: Width\\r\\n     * @param h: Height\\r\\n     * @param internalFormat: Internal color formats\\r\\n     * @param format: Color format\\r\\n     * @param type: Texture type\\r\\n     * @param param: Extra parameters\\r\\n     */\\r\\n    function createDoubleFBO(w, h, internalFormat, format, type, param) {\\r\\n        /* Create frame buffer objects */\\r\\n        let fbo1 = createFBO(w, h, internalFormat, format, type, param);\\r\\n        let fbo2 = createFBO(w, h, internalFormat, format, type, param);\\r\\n\\r\\n        return {\\r\\n            /* Get and set Buffer Data */\\r\\n            get read() {\\r\\n                return fbo1;\\r\\n            },\\r\\n            set read(value) {\\r\\n                fbo1 = value;\\r\\n            },\\r\\n            get write() {\\r\\n                return fbo2;\\r\\n            },\\r\\n            set write(value) {\\r\\n                fbo2 = value;\\r\\n            },\\r\\n\\r\\n            /* Swap data between buffers */\\r\\n            swap() {\\r\\n                let temp = fbo1;\\r\\n                fbo1 = fbo2;\\r\\n                fbo2 = temp;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function createFBO(w, h, internalFormat, format, type, param) {\\r\\n        webGL.activeTexture(webGL.TEXTURE0);\\r\\n        let texture = webGL.createTexture();\\r\\n        webGL.bindTexture(webGL.TEXTURE_2D, texture);\\r\\n        webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_MIN_FILTER, param);\\r\\n        webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_MAG_FILTER, param);\\r\\n        webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_WRAP_S, webGL.CLAMP_TO_EDGE);\\r\\n        webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_WRAP_T, webGL.CLAMP_TO_EDGE);\\r\\n        webGL.texImage2D(webGL.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null);\\r\\n\\r\\n        let fbo = webGL.createFramebuffer();\\r\\n        webGL.bindFramebuffer(webGL.FRAMEBUFFER, fbo);\\r\\n        webGL.framebufferTexture2D(webGL.FRAMEBUFFER, webGL.COLOR_ATTACHMENT0, webGL.TEXTURE_2D, texture, 0);\\r\\n        webGL.viewport(0, 0, w, h);\\r\\n        webGL.clear(webGL.COLOR_BUFFER_BIT);\\r\\n\\r\\n        return {\\r\\n            texture,\\r\\n            fbo,\\r\\n            width: w,\\r\\n            height: h,\\r\\n            attach(id) {\\r\\n                webGL.activeTexture(webGL.TEXTURE0 + id);\\r\\n                webGL.bindTexture(webGL.TEXTURE_2D, texture);\\r\\n                return id;\\r\\n            }\\r\\n        };\\r\\n    }\\r\\n\\r\\n    function resizeDoubleFBO(target, w, h, internalFormat, format, type, param) {\\r\\n        target.read = resizeFBO(target.read, w, h, internalFormat, format, type, param);\\r\\n        target.write = createFBO(w, h, internalFormat, format, type, param);\\r\\n        return target;\\r\\n    }\\r\\n\\r\\n    function resizeFBO(target, w, h, internalFormat, format, type, param) {\\r\\n        let newFBO = createFBO(w, h, internalFormat, format, type, param);\\r\\n        PROGRAMS.clearProgram.bind();\\r\\n        webGL.uniform1i(PROGRAMS.clearProgram.uniforms.uTexture, target.attach(0));\\r\\n        webGL.uniform1f(PROGRAMS.clearProgram.uniforms.value, 1);\\r\\n        blit(newFBO.fbo);\\r\\n        return newFBO;\\r\\n    }\\r\\n\\r\\n    function createTextureAsync(url) {\\r\\n        let texture = webGL.createTexture();\\r\\n        webGL.bindTexture(webGL.TEXTURE_2D, texture);\\r\\n        webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_MIN_FILTER, webGL.LINEAR);\\r\\n        webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_MAG_FILTER, webGL.LINEAR);\\r\\n        webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_WRAP_S, webGL.REPEAT);\\r\\n        webGL.texParameteri(webGL.TEXTURE_2D, webGL.TEXTURE_WRAP_T, webGL.REPEAT);\\r\\n        webGL.texImage2D(webGL.TEXTURE_2D, 0, webGL.RGB, 1, 1, 0, webGL.RGB, webGL.UNSIGNED_BYTE, new Uint8Array([255, 255, 255]));\\r\\n\\r\\n        let obj = {\\r\\n            texture,\\r\\n            width: 1,\\r\\n            height: 1,\\r\\n            attach(id) {\\r\\n                webGL.activeTexture(webGL.TEXTURE0 + id);\\r\\n                webGL.bindTexture(webGL.TEXTURE_2D, texture);\\r\\n                return id;\\r\\n            }\\r\\n        };\\r\\n\\r\\n        let image = new Image();\\r\\n\\r\\n        image.src = url;\\r\\n\\r\\n        image.onload = () => {\\r\\n            obj.width = image.width;\\r\\n            obj.height = image.height;\\r\\n            webGL.bindTexture(webGL.TEXTURE_2D, texture);\\r\\n            webGL.texImage2D(webGL.TEXTURE_2D, 0, webGL.RGB, webGL.RGB, webGL.UNSIGNED_BYTE, image);\\r\\n        };\\r\\n\\r\\n        return obj;\\r\\n    }\\r\\n\\r\\n    function update() {\\r\\n        resizeCanvas();\\r\\n        input();\\r\\n        if (!PARAMS.paused)\\r\\n            step(0.020);\\r\\n        render(null);\\r\\n        let callback = requestAnimationFrame(update);\\r\\n\\r\\n        // /* Destroys if Deactivated */\\r\\n        // if (cancelled.is) {\\r\\n        //     webGL.clear(webGL.COLOR_BUFFER_BIT);\\r\\n        //     cancelAnimationFrame(callback);\\r\\n        // }\\r\\n    }\\r\\n\\r\\n    function input() {\\r\\n        if (splatStack.length > 0)\\r\\n            multipleSplats(splatStack.pop());\\r\\n\\r\\n        for (let i = 0; i < pointers.length; i++) {\\r\\n            const p = pointers[i];\\r\\n            if (p.moved) {\\r\\n                splat(p.x, p.y, p.dx, p.dy, p.color);\\r\\n                if(i !== 1)\\r\\n                    p.moved = false;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        if (!PARAMS.multi_color)\\r\\n            return;\\r\\n\\r\\n        if (lastColorChangeTime + 100 < Date.now()) {\\r\\n            lastColorChangeTime = Date.now();\\r\\n            for (let i = 0; i < pointers.length; i++) {\\r\\n                const p = pointers[i];\\r\\n                p.color = generateColor();\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function step(dt) {\\r\\n        webGL.disable(webGL.BLEND);\\r\\n        webGL.viewport(0, 0, simWidth, simHeight);\\r\\n\\r\\n        PROGRAMS.curlProgram.bind();\\r\\n        webGL.uniform2f(PROGRAMS.curlProgram.uniforms.texelSize, 1.0 / simWidth, 1.0 / simHeight);\\r\\n        webGL.uniform1i(PROGRAMS.curlProgram.uniforms.uVelocity, velocity.read.attach(0));\\r\\n        blit(curl.fbo);\\r\\n\\r\\n        PROGRAMS.vorticityProgram.bind();\\r\\n        webGL.uniform2f(PROGRAMS.vorticityProgram.uniforms.texelSize, 1.0 / simWidth, 1.0 / simHeight);\\r\\n        webGL.uniform1i(PROGRAMS.vorticityProgram.uniforms.uVelocity, velocity.read.attach(0));\\r\\n        webGL.uniform1i(PROGRAMS.vorticityProgram.uniforms.uCurl, curl.attach(1));\\r\\n        webGL.uniform1f(PROGRAMS.vorticityProgram.uniforms.curl, PARAMS.curl);\\r\\n        webGL.uniform1f(PROGRAMS.vorticityProgram.uniforms.dt, dt);\\r\\n        blit(velocity.write.fbo);\\r\\n        velocity.swap();\\r\\n\\r\\n        PROGRAMS.divergenceProgram.bind();\\r\\n        webGL.uniform2f(PROGRAMS.divergenceProgram.uniforms.texelSize, 1.0 / simWidth, 1.0 / simHeight);\\r\\n        webGL.uniform1i(PROGRAMS.divergenceProgram.uniforms.uVelocity, velocity.read.attach(0));\\r\\n        blit(divergence.fbo);\\r\\n\\r\\n        PROGRAMS.clearProgram.bind();\\r\\n        webGL.uniform1i(PROGRAMS.clearProgram.uniforms.uTexture, pressure.read.attach(0));\\r\\n        webGL.uniform1f(PROGRAMS.clearProgram.uniforms.value, PARAMS.pressure);\\r\\n        blit(pressure.write.fbo);\\r\\n        pressure.swap();\\r\\n\\r\\n        PROGRAMS.pressureProgram.bind();\\r\\n        webGL.uniform2f(PROGRAMS.pressureProgram.uniforms.texelSize, 1.0 / simWidth, 1.0 / simHeight);\\r\\n        webGL.uniform1i(PROGRAMS.pressureProgram.uniforms.uDivergence, divergence.attach(0));\\r\\n        for (let i = 0; i < PARAMS.pressure_iteration; i++) {\\r\\n            webGL.uniform1i(PROGRAMS.pressureProgram.uniforms.uPressure, pressure.read.attach(1));\\r\\n            blit(pressure.write.fbo);\\r\\n            pressure.swap();\\r\\n        }\\r\\n\\r\\n        PROGRAMS.gradientSubtractProgram.bind();\\r\\n        webGL.uniform2f(PROGRAMS.gradientSubtractProgram.uniforms.texelSize, 1.0 / simWidth, 1.0 / simHeight);\\r\\n        webGL.uniform1i(PROGRAMS.gradientSubtractProgram.uniforms.uPressure, pressure.read.attach(0));\\r\\n        webGL.uniform1i(PROGRAMS.gradientSubtractProgram.uniforms.uVelocity, velocity.read.attach(1));\\r\\n        blit(velocity.write.fbo);\\r\\n        velocity.swap();\\r\\n\\r\\n        PROGRAMS.advectionProgram.bind();\\r\\n        webGL.uniform2f(PROGRAMS.advectionProgram.uniforms.texelSize, 1.0 / simWidth, 1.0 / simHeight);\\r\\n        if (!colorFormat.supportLinearFiltering)\\r\\n            webGL.uniform2f(PROGRAMS.advectionProgram.uniforms.dyeTexelSize, 1.0 / simWidth, 1.0 / simHeight);\\r\\n        let velocityId = velocity.read.attach(0);\\r\\n        webGL.uniform1i(PROGRAMS.advectionProgram.uniforms.uVelocity, velocityId);\\r\\n        webGL.uniform1i(PROGRAMS.advectionProgram.uniforms.uSource, velocityId);\\r\\n        webGL.uniform1f(PROGRAMS.advectionProgram.uniforms.dt, dt);\\r\\n        webGL.uniform1f(PROGRAMS.advectionProgram.uniforms.dissipation, PARAMS.velocity);\\r\\n        blit(velocity.write.fbo);\\r\\n        velocity.swap();\\r\\n\\r\\n        webGL.viewport(0, 0, dyeWidth, dyeHeight);\\r\\n\\r\\n        if (!colorFormat.supportLinearFiltering)\\r\\n            webGL.uniform2f(PROGRAMS.advectionProgram.uniforms.dyeTexelSize, 1.0 / dyeWidth, 1.0 / dyeHeight);\\r\\n        webGL.uniform1i(PROGRAMS.advectionProgram.uniforms.uVelocity, velocity.read.attach(0));\\r\\n        webGL.uniform1i(PROGRAMS.advectionProgram.uniforms.uSource, density.read.attach(1));\\r\\n        webGL.uniform1f(PROGRAMS.advectionProgram.uniforms.dissipation, PARAMS.dissipation);\\r\\n        blit(density.write.fbo);\\r\\n        density.swap();\\r\\n    }\\r\\n\\r\\n    function render(target) {\\r\\n        if (PARAMS.render_bloom)\\r\\n            applyBloom(density.read, bloom);\\r\\n\\r\\n        if (target == null || !PARAMS.transparent) {\\r\\n            webGL.blendFunc(webGL.ONE, webGL.ONE_MINUS_SRC_ALPHA);\\r\\n            webGL.enable(webGL.BLEND);\\r\\n        } else {\\r\\n            webGL.disable(webGL.BLEND);\\r\\n        }\\r\\n\\r\\n        let width = target == null ? webGL.drawingBufferWidth : dyeWidth;\\r\\n        let height = target == null ? webGL.drawingBufferHeight : dyeHeight;\\r\\n\\r\\n        webGL.viewport(0, 0, width, height);\\r\\n\\r\\n        if (!PARAMS.transparent) {\\r\\n            PROGRAMS.colorProgram.bind();\\r\\n            let bc = PARAMS.background_color;\\r\\n            webGL.uniform4f(PROGRAMS.colorProgram.uniforms.color, bc.r / 255, bc.g / 255, bc.b / 255, 1);\\r\\n            blit(target);\\r\\n        }\\r\\n\\r\\n        if (target == null && PARAMS.transparent) {\\r\\n            PROGRAMS.backgroundProgram.bind();\\r\\n            webGL.uniform1f(PROGRAMS.backgroundProgram.uniforms.aspectRatio, canvas.width / canvas.height);\\r\\n            blit(null);\\r\\n        }\\r\\n\\r\\n        if (PARAMS.render_shaders) {\\r\\n            let program = PARAMS.render_bloom ? PROGRAMS.displayBloomShadingProgram : PROGRAMS.displayShadingProgram;\\r\\n            program.bind();\\r\\n            webGL.uniform2f(program.uniforms.texelSize, 1.0 / width, 1.0 / height);\\r\\n            webGL.uniform1i(program.uniforms.uTexture, density.read.attach(0));\\r\\n            if (PARAMS.render_bloom) {\\r\\n                webGL.uniform1i(program.uniforms.uBloom, bloom.attach(1));\\r\\n                webGL.uniform1i(program.uniforms.uDithering, ditheringTexture.attach(2));\\r\\n                let scale = getTextureScale(ditheringTexture, width, height);\\r\\n                webGL.uniform2f(program.uniforms.ditherScale, scale.x, scale.y);\\r\\n            }\\r\\n        } else {\\r\\n            let program = PARAMS.render_bloom ? PROGRAMS.displayBloomProgram : PROGRAMS.displayProgram;\\r\\n            program.bind();\\r\\n            webGL.uniform1i(program.uniforms.uTexture, density.read.attach(0));\\r\\n            if (PARAMS.render_bloom) {\\r\\n                webGL.uniform1i(program.uniforms.uBloom, bloom.attach(1));\\r\\n                webGL.uniform1i(program.uniforms.uDithering, ditheringTexture.attach(2));\\r\\n                let scale = getTextureScale(ditheringTexture, width, height);\\r\\n                webGL.uniform2f(program.uniforms.ditherScale, scale.x, scale.y);\\r\\n            }\\r\\n        }\\r\\n\\r\\n        blit(target);\\r\\n    }\\r\\n\\r\\n    function applyBloom(source, destination) {\\r\\n        if (bloomFrameBuffers.length < 2)\\r\\n            return;\\r\\n\\r\\n        let last = destination;\\r\\n\\r\\n        webGL.disable(webGL.BLEND);\\r\\n        PROGRAMS.bloomPreFilterProgram.bind();\\r\\n        let knee = PARAMS.threshold * PARAMS.soft_knee + 0.0001;\\r\\n        let curve0 = PARAMS.threshold - knee;\\r\\n        let curve1 = knee * 2;\\r\\n        let curve2 = 0.25 / knee;\\r\\n        webGL.uniform3f(PROGRAMS.bloomPreFilterProgram.uniforms.curve, curve0, curve1, curve2);\\r\\n        webGL.uniform1f(PROGRAMS.bloomPreFilterProgram.uniforms.threshold, PARAMS.threshold);\\r\\n        webGL.uniform1i(PROGRAMS.bloomPreFilterProgram.uniforms.uTexture, source.attach(0));\\r\\n        webGL.viewport(0, 0, last.width, last.height);\\r\\n        blit(last.fbo);\\r\\n\\r\\n        PROGRAMS.bloomBlurProgram.bind();\\r\\n        for (let i = 0; i < bloomFrameBuffers.length; i++) {\\r\\n            let dest = bloomFrameBuffers[i];\\r\\n            webGL.uniform2f(PROGRAMS.bloomBlurProgram.uniforms.texelSize, 1.0 / last.width, 1.0 / last.height);\\r\\n            webGL.uniform1i(PROGRAMS.bloomBlurProgram.uniforms.uTexture, last.attach(0));\\r\\n            webGL.viewport(0, 0, dest.width, dest.height);\\r\\n            blit(dest.fbo);\\r\\n            last = dest;\\r\\n        }\\r\\n\\r\\n        webGL.blendFunc(webGL.ONE, webGL.ONE);\\r\\n        webGL.enable(webGL.BLEND);\\r\\n\\r\\n        for (let i = bloomFrameBuffers.length - 2; i >= 0; i--) {\\r\\n            let baseTex = bloomFrameBuffers[i];\\r\\n            webGL.uniform2f(PROGRAMS.bloomBlurProgram.uniforms.texelSize, 1.0 / last.width, 1.0 / last.height);\\r\\n            webGL.uniform1i(PROGRAMS.bloomBlurProgram.uniforms.uTexture, last.attach(0));\\r\\n            webGL.viewport(0, 0, baseTex.width, baseTex.height);\\r\\n            blit(baseTex.fbo);\\r\\n            last = baseTex;\\r\\n        }\\r\\n\\r\\n        webGL.disable(webGL.BLEND);\\r\\n        PROGRAMS.bloomFinalProgram.bind();\\r\\n        webGL.uniform2f(PROGRAMS.bloomFinalProgram.uniforms.texelSize, 1.0 / last.width, 1.0 / last.height);\\r\\n        webGL.uniform1i(PROGRAMS.bloomFinalProgram.uniforms.uTexture, last.attach(0));\\r\\n        webGL.uniform1f(PROGRAMS.bloomFinalProgram.uniforms.intensity, PARAMS.intensity);\\r\\n        webGL.viewport(0, 0, destination.width, destination.height);\\r\\n        blit(destination.fbo);\\r\\n    }\\r\\n\\r\\n    function splat(x, y, dx, dy, color) {\\r\\n        webGL.viewport(0, 0, simWidth, simHeight);\\r\\n        PROGRAMS.splatProgram.bind();\\r\\n        webGL.uniform1i(PROGRAMS.splatProgram.uniforms.uTarget, velocity.read.attach(0));\\r\\n        webGL.uniform1f(PROGRAMS.splatProgram.uniforms.aspectRatio, canvas.width / canvas.height);\\r\\n        webGL.uniform2f(PROGRAMS.splatProgram.uniforms.point, x / canvas.width, 1.0 - y / canvas.height);\\r\\n        webGL.uniform3f(PROGRAMS.splatProgram.uniforms.color, dx, -dy, 1.0);\\r\\n        webGL.uniform1f(PROGRAMS.splatProgram.uniforms.radius, PARAMS.emitter_size / 100.0);\\r\\n        blit(velocity.write.fbo);\\r\\n        velocity.swap();\\r\\n\\r\\n        webGL.viewport(0, 0, dyeWidth, dyeHeight);\\r\\n        webGL.uniform1i(PROGRAMS.splatProgram.uniforms.uTarget, density.read.attach(0));\\r\\n        webGL.uniform3f(PROGRAMS.splatProgram.uniforms.color, color.r, color.g, color.b);\\r\\n        blit(density.write.fbo);\\r\\n        density.swap();\\r\\n    }\\r\\n\\r\\n    function multipleSplats(amount) {\\r\\n        let color = {\\r\\n            r: 255,\\r\\n            b: 0,\\r\\n            g: 0\\r\\n        };\\r\\n\\r\\n        // for (let i = 0; i < 100; i++){\\r\\n        //     splat(500 + 5*i, 500, 100, 0, color);\\r\\n        // }\\r\\n\\r\\n        splat(500, 500, 100, 0, color);\\r\\n\\r\\n\\r\\n        //splat(500, 500, 100, 0, color);\\r\\n        //requestAnimationFrame(multipleSplats)\\r\\n    }\\r\\n\\r\\n    function resizeCanvas() {\\r\\n        if (canvas.width != canvas.clientWidth || canvas.height != canvas.clientHeight) {\\r\\n            canvas.width = canvas.clientWidth;\\r\\n            canvas.height = canvas.clientHeight;\\r\\n            init();\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function generateColor() {\\r\\n        let c = HSVtoRGB(Math.random(), 1.0, 1.0);\\r\\n        c.r *= 0.15;\\r\\n        c.g *= 0.15;\\r\\n        c.b *= 0.15;\\r\\n        return c;\\r\\n    }\\r\\n\\r\\n    function HSVtoRGB(h, s, v) {\\r\\n        let r, g, b, i, f, p, q, t;\\r\\n        i = Math.floor(h * 6);\\r\\n        f = h * 6 - i;\\r\\n        p = v * (1 - s);\\r\\n        q = v * (1 - f * s);\\r\\n        t = v * (1 - (1 - f) * s);\\r\\n\\r\\n        switch (i % 6) {\\r\\n            case 0:\\r\\n                r = v, g = t, b = p;\\r\\n                break;\\r\\n            case 1:\\r\\n                r = q, g = v, b = p;\\r\\n                break;\\r\\n            case 2:\\r\\n                r = p, g = v, b = t;\\r\\n                break;\\r\\n            case 3:\\r\\n                r = p, g = q, b = v;\\r\\n                break;\\r\\n            case 4:\\r\\n                r = t, g = p, b = v;\\r\\n                break;\\r\\n            case 5:\\r\\n                r = v, g = p, b = q;\\r\\n                break;\\r\\n        }\\r\\n\\r\\n        return {\\r\\n            r,\\r\\n            g,\\r\\n            b\\r\\n        };\\r\\n    }\\r\\n\\r\\n    function getResolution(resolution) {\\r\\n        let aspectRatio = webGL.drawingBufferWidth / webGL.drawingBufferHeight;\\r\\n        if (aspectRatio < 1)\\r\\n            aspectRatio = 1.0 / aspectRatio;\\r\\n\\r\\n        let max = Math.round(resolution * aspectRatio);\\r\\n        let min = Math.round(resolution);\\r\\n\\r\\n        if (webGL.drawingBufferWidth > webGL.drawingBufferHeight)\\r\\n            return {width: max, height: min};\\r\\n        else\\r\\n            return {width: min, height: max};\\r\\n    }\\r\\n\\r\\n    function getTextureScale(texture, width, height) {\\r\\n        return {\\r\\n            x: width / texture.width,\\r\\n            y: height / texture.height\\r\\n        };\\r\\n    }\\r\\n\\r\\n    canvas.addEventListener('mousemove', e => {\\r\\n        pointers[0].moved = pointers[0].down;\\r\\n        pointers[0].dx = (e.offsetX - pointers[0].x) * 5.0;\\r\\n        pointers[0].dy = (e.offsetY - pointers[0].y) * 5.0;\\r\\n        pointers[0].x = e.offsetX;\\r\\n        pointers[0].y = e.offsetY;\\r\\n    });\\r\\n\\r\\n    canvas.addEventListener('mousedown', () => {\\r\\n        pointers[0].down = true;\\r\\n        pointers[0].color = generateColor();\\r\\n    });\\r\\n\\r\\n    window.addEventListener('mouseup', () => {\\r\\n        pointers[0].down = false;\\r\\n    });\\r\\n\\r\\n    window.addEventListener('keydown', e => {\\r\\n        if (e.code === 'KeyP')\\r\\n            PARAMS.paused = !PARAMS.paused;\\r\\n        if (e.key === ' ')\\r\\n            splatStack.push(parseInt(Math.random() * 20) + 5);\\r\\n    });\\r\\n}\\r\\n\\r\\nclass GLProgram {\\r\\n    constructor (vertexShader, fragmentShader, webGL) {\\r\\n        this.uniforms = {};\\r\\n        this.webGL = webGL;\\r\\n        this.program = webGL.createProgram();\\r\\n\\r\\n        webGL.attachShader(this.program, vertexShader);\\r\\n        webGL.attachShader(this.program, fragmentShader);\\r\\n        webGL.linkProgram(this.program);\\r\\n\\r\\n        if (!webGL.getProgramParameter(this.program, webGL.LINK_STATUS))\\r\\n            throw webGL.getProgramInfoLog(this.program);\\r\\n\\r\\n        const uniformCount = webGL.getProgramParameter(this.program, webGL.ACTIVE_UNIFORMS);\\r\\n        for (let i = 0; i < uniformCount; i++) {\\r\\n            const uniformName = webGL.getActiveUniform(this.program, i).name;\\r\\n            this.uniforms[uniformName] = webGL.getUniformLocation(this.program, uniformName);\\r\\n        }\\r\\n    }\\r\\n\\r\\n    bind () {\\r\\n        this.webGL.useProgram(this.program);\\r\\n    }\\r\\n}\\r\\n\\r\\nclass Pointer {\\r\\n    constructor () {\\r\\n        /** Identifier for the pointer object\\r\\n         *\\r\\n         *  @type {number} valid IDs are always either zero or a positive integer (-1 is invalid and should\\r\\n         *  be managed upon creation of a new pointer object.)\\r\\n         */\\r\\n        this.id = -1;\\r\\n\\r\\n        /** Horizontal (x) and vertical (y) position of the pointer\\r\\n         *\\r\\n         *  @type {number}\\r\\n         */\\r\\n        this.x = 0;\\r\\n        this.y = 0;\\r\\n\\r\\n        /** Velocity data describing the positional change in the horizontal (x) and vertical (y) axis of\\r\\n         *  this pointer\\r\\n         *\\r\\n         * @type {number}\\r\\n         */\\r\\n        this.dx = 0;\\r\\n        this.dy = 0;\\r\\n\\r\\n        /** Boolean data member used to store whether or not the pointer is in a clicked state and/or a\\r\\n         *  moving state\\r\\n         *\\r\\n         *  @type {boolean}\\r\\n         */\\r\\n        this.down = false;\\r\\n        this.moved = false;\\r\\n\\r\\n        /** The color the pointer will render as\\r\\n         *\\r\\n         * @type {number[]}\\r\\n         */\\r\\n        this.color = [30, 0, 300];\\r\\n    }\\r\\n}\\r\\n\",\"module.exports = \\\"data:image/png;base64,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\\\"\"]}","code":"!function(e,r){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define([],r):\"object\"==typeof exports?exports.Fluid=r():e.Fluid=r()}(window,function(){return function(e){var r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var i in e)n.d(t,i,function(r){return e[r]}.bind(null,i));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,\"a\",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p=\"\",n(n.s=1)}([function(e,r,n){\"use strict\";function t(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function i(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}Object.defineProperty(r,\"__esModule\",{value:!0}),r.setBehaviors=function(e){r.behavior=o=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(n,!0).forEach(function(r){i(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}({},o,{},e)},r.SHADER_SOURCE=r.DRAWING_PARAMS=r.behavior=void 0;var o={sim_resolution:128,dye_resolution:512,paused:!1,clamp_values:!0,dissipation:.97,velocity:.98,pressure:1,pressure_iteration:10,fluid_color:[[0,0,0],[.4,.2,0]],curl:0,emitter_size:.5,render_shaders:!0,multi_color:!0,render_bloom:!0,bloom_iterations:8,bloom_resolution:256,intensity:.8,threshold:.6,soft_knee:.7,background_color:{r:15,g:15,b:15},transparent:!1};r.behavior=o;r.DRAWING_PARAMS={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1,powerPreference:\"default\"};r.SHADER_SOURCE={blank:\"\",vertex:\"\\n                  precision highp float;\\n              \\n                  attribute vec2 aPosition;\\n                  varying vec2 vUv;\\n                  varying vec2 vL;\\n                  varying vec2 vR;\\n                  varying vec2 vT;\\n                  varying vec2 vB;\\n                  uniform vec2 texelSize;\\n              \\n                  void main () {\\n                      vUv = aPosition * 0.5 + 0.5;\\n                      vL = vUv - vec2(texelSize.x, 0.0);\\n                      vR = vUv + vec2(texelSize.x, 0.0);\\n                      vT = vUv + vec2(0.0, texelSize.y);\\n                      vB = vUv - vec2(0.0, texelSize.y);\\n                      gl_Position = vec4(aPosition, 0.0, 1.0);\\n                  }\",clear:\"\\n                  precision mediump float;\\n                  precision mediump sampler2D;\\n              \\n                  varying highp vec2 vUv;\\n                  uniform sampler2D uTexture;\\n                  uniform float value;\\n              \\n                  void main () {\\n                      gl_FragColor = value * texture2D(uTexture, vUv);\\n                  }\\n              \",color:\"\\n                  precision mediump float;\\n              \\n                  uniform vec4 color;\\n              \\n                  void main () {\\n                      gl_FragColor = color;\\n                  }\\n              \",background:\"\\n                  precision highp float;\\n                  precision highp sampler2D;\\n              \\n                  varying vec2 vUv;\\n                  uniform sampler2D uTexture;\\n                  uniform float aspectRatio;\\n              \\n                  #define SCALE 25.0\\n              \\n                  void main () {\\n                      vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\\n                      float v = mod(uv.x + uv.y, 2.0);\\n                      v = v * 0.1 + 0.8;\\n                      gl_FragColor = vec4(vec3(v), 1.0);\\n                  }\\n              \",pictureBackground:\" \\n                    void main() { \\n                        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); \\n                    } \\n            \",display:\"\\n                  precision highp float;\\n                  precision highp sampler2D;\\n              \\n                  varying vec2 vUv;\\n                  uniform sampler2D uTexture;\\n              \\n                  void main () {\\n                      vec3 C = texture2D(uTexture, vUv).rgb;\\n                      float a = max(C.r, max(C.g, C.b));\\n                      gl_FragColor = vec4(C, a);\\n                  }\\n              \",displayBloom:\"\\n          precision highp float;\\n          precision highp sampler2D;\\n      \\n          varying vec2 vUv;\\n          uniform sampler2D uTexture;\\n          uniform sampler2D uBloom;\\n          uniform sampler2D uDithering;\\n          uniform vec2 ditherScale;\\n      \\n          void main () {\\n              vec3 C = texture2D(uTexture, vUv).rgb;\\n              vec3 bloom = texture2D(uBloom, vUv).rgb;\\n              vec3 noise = texture2D(uDithering, vUv * ditherScale).rgb;\\n              noise = noise * 2.0 - 1.0;\\n              bloom += noise / 800.0;\\n              bloom = pow(bloom.rgb, vec3(1.0 / 2.2));\\n              C += bloom;\\n              float a = max(C.r, max(C.g, C.b));\\n              gl_FragColor = vec4(C, a);\\n          }\\n      \",displayShading:\"\\n          precision highp float;\\n          precision highp sampler2D;\\n      \\n          varying vec2 vUv;\\n          varying vec2 vL;\\n          varying vec2 vR;\\n          varying vec2 vT;\\n          varying vec2 vB;\\n          uniform sampler2D uTexture;\\n          uniform vec2 texelSize;\\n      \\n          void main () {\\n              vec3 L = texture2D(uTexture, vL).rgb;\\n              vec3 R = texture2D(uTexture, vR).rgb;\\n              vec3 T = texture2D(uTexture, vT).rgb;\\n              vec3 B = texture2D(uTexture, vB).rgb;\\n              vec3 C = texture2D(uTexture, vUv).rgb;\\n      \\n              float dx = length(R) - length(L);\\n              float dy = length(T) - length(B);\\n      \\n              vec3 n = normalize(vec3(dx, dy, length(texelSize)));\\n              vec3 l = vec3(0.0, 0.0, 1.0);\\n      \\n              float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\\n              C.rgb *= diffuse;\\n      \\n              float a = max(C.r, max(C.g, C.b));\\n              gl_FragColor = vec4(C, a);\\n          }\\n      \",displayBloomShading:\"\\n          precision highp float;\\n          precision highp sampler2D;\\n      \\n          varying vec2 vUv;\\n          varying vec2 vL;\\n          varying vec2 vR;\\n          varying vec2 vT;\\n          varying vec2 vB;\\n          uniform sampler2D uTexture;\\n          uniform sampler2D uBloom;\\n          uniform sampler2D uDithering;\\n          uniform vec2 ditherScale;\\n          uniform vec2 texelSize;\\n      \\n          void main () {\\n              vec3 L = texture2D(uTexture, vL).rgb;\\n              vec3 R = texture2D(uTexture, vR).rgb;\\n              vec3 T = texture2D(uTexture, vT).rgb;\\n              vec3 B = texture2D(uTexture, vB).rgb;\\n              vec3 C = texture2D(uTexture, vUv).rgb;\\n      \\n              float dx = length(R) - length(L);\\n              float dy = length(T) - length(B);\\n      \\n              vec3 n = normalize(vec3(dx, dy, length(texelSize)));\\n              vec3 l = vec3(0.0, 0.0, 1.0);\\n      \\n              float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\\n              C *= diffuse;\\n      \\n              vec3 bloom = texture2D(uBloom, vUv).rgb;\\n              vec3 noise = texture2D(uDithering, vUv * ditherScale).rgb;\\n              noise = noise * 2.0 - 1.0;\\n              bloom += noise / 800.0;\\n              bloom = pow(bloom.rgb, vec3(1.0 / 2.2));\\n              C += bloom;\\n      \\n              float a = max(C.r, max(C.g, C.b));\\n              gl_FragColor = vec4(C, a);\\n          }\\n      \",bloomPreFilter:\"\\n          precision mediump float;\\n          precision mediump sampler2D;\\n      \\n          varying vec2 vUv;\\n          uniform sampler2D uTexture;\\n          uniform vec3 curve;\\n          uniform float threshold;\\n      \\n          void main () {\\n              vec3 c = texture2D(uTexture, vUv).rgb;\\n              float br = max(c.r, max(c.g, c.b));\\n              float rq = clamp(br - curve.x, 0.0, curve.y);\\n              rq = curve.z * rq * rq;\\n              c *= max(rq, br - threshold) / max(br, 0.0001);\\n              gl_FragColor = vec4(c, 0.0);\\n          }\\n      \",bloomBlur:\"\\n          precision mediump float;\\n          precision mediump sampler2D;\\n      \\n          varying vec2 vL;\\n          varying vec2 vR;\\n          varying vec2 vT;\\n          varying vec2 vB;\\n          uniform sampler2D uTexture;\\n      \\n          void main () {\\n              vec4 sum = vec4(0.0);\\n              sum += texture2D(uTexture, vL);\\n              sum += texture2D(uTexture, vR);\\n              sum += texture2D(uTexture, vT);\\n              sum += texture2D(uTexture, vB);\\n              sum *= 0.25;\\n              gl_FragColor = sum;\\n          }\\n      \",bloomFinal:\"\\n          precision mediump float;\\n          precision mediump sampler2D;\\n      \\n          varying vec2 vL;\\n          varying vec2 vR;\\n          varying vec2 vT;\\n          varying vec2 vB;\\n          uniform sampler2D uTexture;\\n          uniform float intensity;\\n      \\n          void main () {\\n              vec4 sum = vec4(0.0);\\n              sum += texture2D(uTexture, vL);\\n              sum += texture2D(uTexture, vR);\\n              sum += texture2D(uTexture, vT);\\n              sum += texture2D(uTexture, vB);\\n              sum *= 0.25;\\n              gl_FragColor = sum * intensity;\\n          }\\n      \",splat:\"\\n          precision highp float;\\n          precision highp sampler2D;\\n      \\n          varying vec2 vUv;\\n          uniform sampler2D uTarget;\\n          uniform float aspectRatio;\\n          uniform vec3 color;\\n          uniform vec2 point;\\n          uniform float radius;\\n      \\n          void main () {\\n              vec2 p = vUv - point.xy;\\n              p.x *= aspectRatio;\\n              vec3 splat = exp(-dot(p, p) / radius) * color;\\n              vec3 base = texture2D(uTarget, vUv).xyz;\\n              gl_FragColor = vec4(base + splat, 1.0);\\n          }\\n      \",advectionManualFiltering:\"\\n          precision highp float;\\n          precision highp sampler2D;\\n      \\n          varying vec2 vUv;\\n          uniform sampler2D uVelocity;\\n          uniform sampler2D uSource;\\n          uniform vec2 texelSize;\\n          uniform vec2 dyeTexelSize;\\n          uniform float dt;\\n          uniform float dissipation;\\n      \\n          vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\\n              vec2 st = uv / tsize - 0.5;\\n      \\n              vec2 iuv = floor(st);\\n              vec2 fuv = fract(st);\\n      \\n              vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\\n              vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\\n              vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\\n              vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\\n      \\n              return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\\n          }\\n      \\n          void main () {\\n              vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\\n              gl_FragColor = dissipation * bilerp(uSource, coord, dyeTexelSize);\\n              gl_FragColor.a = 1.0;\\n          }\\n      \",advection:\"\\n          precision highp float;\\n          precision highp sampler2D;\\n      \\n          varying vec2 vUv;\\n          uniform sampler2D uVelocity;\\n          uniform sampler2D uSource;\\n          uniform vec2 texelSize;\\n          uniform float dt;\\n          uniform float dissipation;\\n      \\n          void main () {\\n              vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\\n              gl_FragColor = dissipation * texture2D(uSource, coord);\\n              gl_FragColor.a = 1.0;\\n          }\\n      \",divergence:\"\\n          precision mediump float;\\n          precision mediump sampler2D;\\n      \\n          varying highp vec2 vUv;\\n          varying highp vec2 vL;\\n          varying highp vec2 vR;\\n          varying highp vec2 vT;\\n          varying highp vec2 vB;\\n          uniform sampler2D uVelocity;\\n      \\n          void main () {\\n              float L = texture2D(uVelocity, vL).x;\\n              float R = texture2D(uVelocity, vR).x;\\n              float T = texture2D(uVelocity, vT).y;\\n              float B = texture2D(uVelocity, vB).y;\\n      \\n              vec2 C = texture2D(uVelocity, vUv).xy;\\n              if (vL.x < 0.0) { L = -C.x; }\\n              if (vR.x > 1.0) { R = -C.x; }\\n              if (vT.y > 1.0) { T = -C.y; }\\n              if (vB.y < 0.0) { B = -C.y; }\\n      \\n              float div = 0.5 * (R - L + T - B);\\n              gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\\n          }\\n      \",curl:\"\\n          precision mediump float;\\n          precision mediump sampler2D;\\n      \\n          varying highp vec2 vUv;\\n          varying highp vec2 vL;\\n          varying highp vec2 vR;\\n          varying highp vec2 vT;\\n          varying highp vec2 vB;\\n          uniform sampler2D uVelocity;\\n      \\n          void main () {\\n              float L = texture2D(uVelocity, vL).y;\\n              float R = texture2D(uVelocity, vR).y;\\n              float T = texture2D(uVelocity, vT).x;\\n              float B = texture2D(uVelocity, vB).x;\\n              float vorticity = R - L - T + B;\\n              gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\\n          }\\n      \",vorticity:\"\\n          precision highp float;\\n          precision highp sampler2D;\\n      \\n          varying vec2 vUv;\\n          varying vec2 vL;\\n          varying vec2 vR;\\n          varying vec2 vT;\\n          varying vec2 vB;\\n          uniform sampler2D uVelocity;\\n          uniform sampler2D uCurl;\\n          uniform float curl;\\n          uniform float dt;\\n      \\n          void main () {\\n              float L = texture2D(uCurl, vL).x;\\n              float R = texture2D(uCurl, vR).x;\\n              float T = texture2D(uCurl, vT).x;\\n              float B = texture2D(uCurl, vB).x;\\n              float C = texture2D(uCurl, vUv).x;\\n      \\n              vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\\n              force /= length(force) + 0.0001;\\n              force *= curl * C;\\n              force.y *= -1.0;\\n      \\n              vec2 vel = texture2D(uVelocity, vUv).xy;\\n              gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\\n          }\\n      \",pressure:\"\\n          precision mediump float;\\n          precision mediump sampler2D;\\n      \\n          varying highp vec2 vUv;\\n          varying highp vec2 vL;\\n          varying highp vec2 vR;\\n          varying highp vec2 vT;\\n          varying highp vec2 vB;\\n          uniform sampler2D uPressure;\\n          uniform sampler2D uDivergence;\\n      \\n          vec2 boundary (vec2 uv) {\\n              return uv;\\n              // uncomment if you use wrap or repeat texture mode\\n              // uv = min(max(uv, 0.0), 1.0);\\n              // return uv;\\n          }\\n      \\n          void main () {\\n              float L = texture2D(uPressure, boundary(vL)).x;\\n              float R = texture2D(uPressure, boundary(vR)).x;\\n              float T = texture2D(uPressure, boundary(vT)).x;\\n              float B = texture2D(uPressure, boundary(vB)).x;\\n              float C = texture2D(uPressure, vUv).x;\\n              float divergence = texture2D(uDivergence, vUv).x;\\n              float pressure = (L + R + B + T - divergence) * 0.25;\\n              gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\\n          }\\n      \",gradientSubtract:\"\\n          precision mediump float;\\n          precision mediump sampler2D;\\n      \\n          varying highp vec2 vUv;\\n          varying highp vec2 vL;\\n          varying highp vec2 vR;\\n          varying highp vec2 vT;\\n          varying highp vec2 vB;\\n          uniform sampler2D uPressure;\\n          uniform sampler2D uVelocity;\\n      \\n          vec2 boundary (vec2 uv) {\\n              return uv;\\n              // uv = min(max(uv, 0.0), 1.0);\\n              // return uv;\\n          }\\n      \\n          void main () {\\n              float L = texture2D(uPressure, boundary(vL)).x;\\n              float R = texture2D(uPressure, boundary(vR)).x;\\n              float T = texture2D(uPressure, boundary(vT)).x;\\n              float B = texture2D(uPressure, boundary(vB)).x;\\n              vec2 velocity = texture2D(uVelocity, vUv).xy;\\n              velocity.xy -= vec2(R - L, T - B);\\n              gl_FragColor = vec4(velocity, 0.0, 1.0);\\n          }\\n      \"}},function(e,r,n){\"use strict\";var t=n(0),i=n(2);function o(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function u(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,\"value\"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}e.exports=function(){function e(r){!function(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.PARAMS=t.behavior,r.width=r.clientWidth,r.height=r.clientHeight,this.canvas=r;var n=(0,i.initWebGL)(),o=n.programs,a=n.webGL,u=n.colorFormats,v=n.pointers;this.programs=o,this.webGL=a,this.colorFormats=u,this.pointers=v}var r,n,v;return r=e,(n=[{key:\"activate\",value:function(){(0,i.activator)(this.canvas,this.webGL,this.colorFormats,this.programs,this.pointers)}},{key:\"deactivate\",value:function(){}},{key:\"reset\",value:function(){(0,i.initWebGL)(),this.activate()}},{key:\"mapBehaviors\",value:function(e){this.PARAMS=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(n,!0).forEach(function(r){a(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}({},this.PARAMS,{},e),(0,t.setBehaviors)(this.PARAMS)}},{key:\"setAsBackground\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];canvas.style.zIndex=e?\"-99\":\"0\",canvas.style.position=e?\"absolute\":\"relative\"}},{key:\"applyBackground\",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(e=e.toLowerCase(),this.PARAMS.transparent=!0,e){case\"gradient\":t();break;case\"image\":i();break;case\"solid\":default:this.PARAMS.transparent=!1,this.PARAMS.background_color=r}function t(){var e=\"\";switch(n){case\"radial\":e=\"radial-gradient(\"+r+\")\";break;case\"conic\":e=\"conic-gradient(\"+r+\")\";break;case\"repeating-linear\":e=\"repeating-linear-gradient(\"+r+\")\";break;case\"repeating-radial\":e=\"repeating-radial-gradient(\"+r+\")\";break;case\"linear\":default:e=\"linear-gradient(\"+r+\")\"}canvas.style.backgroundImage=e}function i(){canvas.style.backgroundImage=\"url('\"+r+\"')\",n&&(canvas.style.backgroundRepeat=n.repeat?\"repeat\":\"no-repeat\",canvas.style.backgroundPosition=n.position?n.position:\"center\",canvas.style.backgroundSize=n.size?n.size:\"contain\",canvas.style.backgroundColor=n.color?n.color:\"none\")}this.reset()}}])&&u(r.prototype,n),v&&u(r,v),e}()},function(e,r,n){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.initWebGL=function(){var e=[];e.push(new m);var r=canvas.getContext(\"webgl2\",t.DRAWING_PARAMS),n=!!r;n||(r=canvas.getContext(\"webgl\",t.DRAWING_PARAMS)||canvas.getContext(\"experimental-webgl\",t.DRAWING_PARAMS));var i=function(){var e,t,i,o,a;n?(r.getExtension(\"EXT_color_buffer_float\"),a=r.getExtension(\"OES_texture_float_linear\")):(o=r.getExtension(\"OES_texture_half_float\"),a=r.getExtension(\"OES_texture_half_float_linear\"));var u=n?r.HALF_FLOAT:o.HALF_FLOAT_OES;r.clearColor(0,0,0,1),n?(e=v(r.RGBA16F,r.RGBA,u),t=v(r.RG16F,r.RG,u),i=v(r.R16F,r.RED,u)):(e=v(r.RGBA,r.RGBA,u),t=v(r.RGBA,r.RGBA,u),i=v(r.RGBA,r.RGBA,u));function v(e,n,t){var i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,e,4,4,0,n,t,null);var o=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,o),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,i,0);var a=r.checkFramebufferStatus(r.FRAMEBUFFER);if(!(a===r.FRAMEBUFFER_COMPLETE))switch(e){case r.R16F:return v(r.RG16F,r.RG,t);case r.RG16F:return v(r.RGBA16F,r.RGBA,t);default:return null}return{internalFormat:e,format:n}}return{formatRGBA:e,formatRG:t,formatR:i,halfFloatTexType:u,supportLinearFiltering:a}}();/Mobi|Android/i.test(navigator.userAgent)&&(t.behavior.render_shaders=!1);i.supportLinearFiltering||(console.log(\"no bloom\"),t.behavior.render_shaders=!1,t.behavior.render_bloom=!1);var o={baseVertex:a(r.VERTEX_SHADER,t.SHADER_SOURCE.vertex),clear:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.clear),color:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.color),background:a(r.FRAGMENT_SHADER,t.behavior.transparent?t.SHADER_SOURCE.pictureBackground:t.SHADER_SOURCE.background),display:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.display),displayBloom:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.displayBloom),displayShading:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.displayShading),displayBloomShading:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.displayBloomShading),bloomPreFilter:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.bloomPreFilter),bloomBlur:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.bloomBlur),bloomFinal:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.bloomFinal),splat:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.splat),advectionManualFiltering:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.advectionManualFiltering),advection:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.advection),divergence:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.divergence),curl:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.curl),vorticity:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.vorticity),pressure:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.pressure),gradientSubtract:a(r.FRAGMENT_SHADER,t.SHADER_SOURCE.gradientSubtract)};function a(e,n){var t=r.createShader(e);if(r.shaderSource(t,n),r.compileShader(t),!r.getShaderParameter(t,r.COMPILE_STATUS))throw r.getShaderInfoLog(t);return t}return{programs:(u=i.supportLinearFiltering,{clearProgram:new l(o.baseVertex,o.clear,r),colorProgram:new l(o.baseVertex,o.color,r),backgroundProgram:new l(o.baseVertex,o.background,r),displayProgram:new l(o.baseVertex,o.display,r),displayBloomProgram:new l(o.baseVertex,o.displayBloom,r),displayShadingProgram:new l(o.baseVertex,o.displayShading,r),displayBloomShadingProgram:new l(o.baseVertex,o.displayBloomShading,r),bloomPreFilterProgram:new l(o.baseVertex,o.bloomPreFilter,r),bloomBlurProgram:new l(o.baseVertex,o.bloomBlur,r),bloomFinalProgram:new l(o.baseVertex,o.bloomFinal,r),splatProgram:new l(o.baseVertex,o.splat,r),advectionProgram:new l(o.baseVertex,u?o.advection:o.advectionManualFiltering,r),divergenceProgram:new l(o.baseVertex,o.divergence,r),curlProgram:new l(o.baseVertex,o.curl,r),vorticityProgram:new l(o.baseVertex,o.vorticity,r),pressureProgram:new l(o.baseVertex,o.pressure,r),gradientSubtractProgram:new l(o.baseVertex,o.gradientSubtract,r)}),webGL:r,colorFormats:i,pointers:e};var u},r.activator=function(e,r,n,o,a){if(v){var u=[];u.push(new m),a=u}v=!0;var l,c,f,s,d,g,p,b,h,S,y=t.behavior,R=[],T=[],E=(r.bindBuffer(r.ARRAY_BUFFER,r.createBuffer()),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,r.createBuffer()),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),r.STATIC_DRAW),r.vertexAttribPointer(0,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(0),function(e){r.bindFramebuffer(r.FRAMEBUFFER,e),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0)}),x=function(e){var n=r.createTexture();r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.REPEAT),r.texImage2D(r.TEXTURE_2D,0,r.RGB,1,1,0,r.RGB,r.UNSIGNED_BYTE,new Uint8Array([255,255,255]));var t={texture:n,width:1,height:1,attach:function(e){return r.activeTexture(r.TEXTURE0+e),r.bindTexture(r.TEXTURE_2D,n),e}},i=new Image;return i.src=e,i.onload=function(){t.width=i.width,t.height=i.height,r.bindTexture(r.TEXTURE_2D,n),r.texImage2D(r.TEXTURE_2D,0,r.RGB,r.RGB,r.UNSIGNED_BYTE,i)},t}(i.default);k(),w(parseInt(20*Math.random())+5);var P=Date.now();function k(){var e=n.halfFloatTexType,t=n.formatRGBA,i=n.formatRG,o=n.formatR,a=n.supportLinearFiltering?r.LINEAR:r.NEAREST,u=O(y.sim_resolution),v=O(y.dye_resolution),m=O(y.bloom_resolution);l=u.width,c=u.height,f=v.width,s=v.height,d=d?A(d,f,s,t.internalFormat,t.format,e,a):D(f,s,t.internalFormat,t.format,e,a),g=g?A(g,l,c,i.internalFormat,i.format,e,a):D(l,c,i.internalFormat,i.format,e,a),S=J(m.width,m.height,t.internalFormat,t.format,e,a),p=J(l,c,o.internalFormat,o.format,e,r.NEAREST),b=J(l,c,o.internalFormat,o.format,e,r.NEAREST),h=D(l,c,o.internalFormat,o.format,e,r.NEAREST),R.length=0;for(var T=0;T<y.bloom_iterations;T++){var E=m.width>>T+1,x=m.height>>T+1;if(E<2||x<2)break;var P=J(E,x,t.internalFormat,t.format,e,a);R.push(P)}}function D(e,r,n,t,i,o){var a=J(e,r,n,t,i,o),u=J(e,r,n,t,i,o);return{get read(){return a},set read(e){a=e},get write(){return u},set write(e){u=e},swap:function(){var e=a;a=u,u=e}}}function J(e,n,t,i,o,a){r.activeTexture(r.TEXTURE0);var u=r.createTexture();r.bindTexture(r.TEXTURE_2D,u),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,t,e,n,0,i,o,null);var v=r.createFramebuffer();return r.bindFramebuffer(r.FRAMEBUFFER,v),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,u,0),r.viewport(0,0,e,n),r.clear(r.COLOR_BUFFER_BIT),{texture:u,fbo:v,width:e,height:n,attach:function(e){return r.activeTexture(r.TEXTURE0+e),r.bindTexture(r.TEXTURE_2D,u),e}}}function A(e,n,t,i,a,u,v){return e.read=function(e,n,t,i,a,u,v){var l=J(n,t,i,a,u,v);return o.clearProgram.bind(),r.uniform1i(o.clearProgram.uniforms.uTexture,e.attach(0)),r.uniform1f(o.clearProgram.uniforms.value,1),E(l.fbo),l}(e.read,n,t,i,a,u,v),e.write=J(n,t,i,a,u,v),e}function _(n){y.render_bloom&&function(e,n){if(R.length<2)return;var t=n;r.disable(r.BLEND),o.bloomPreFilterProgram.bind();var i=y.threshold*y.soft_knee+1e-4,a=y.threshold-i,u=2*i,v=.25/i;r.uniform3f(o.bloomPreFilterProgram.uniforms.curve,a,u,v),r.uniform1f(o.bloomPreFilterProgram.uniforms.threshold,y.threshold),r.uniform1i(o.bloomPreFilterProgram.uniforms.uTexture,e.attach(0)),r.viewport(0,0,t.width,t.height),E(t.fbo),o.bloomBlurProgram.bind();for(var l=0;l<R.length;l++){var m=R[l];r.uniform2f(o.bloomBlurProgram.uniforms.texelSize,1/t.width,1/t.height),r.uniform1i(o.bloomBlurProgram.uniforms.uTexture,t.attach(0)),r.viewport(0,0,m.width,m.height),E(m.fbo),t=m}r.blendFunc(r.ONE,r.ONE),r.enable(r.BLEND);for(var c=R.length-2;c>=0;c--){var f=R[c];r.uniform2f(o.bloomBlurProgram.uniforms.texelSize,1/t.width,1/t.height),r.uniform1i(o.bloomBlurProgram.uniforms.uTexture,t.attach(0)),r.viewport(0,0,f.width,f.height),E(f.fbo),t=f}r.disable(r.BLEND),o.bloomFinalProgram.bind(),r.uniform2f(o.bloomFinalProgram.uniforms.texelSize,1/t.width,1/t.height),r.uniform1i(o.bloomFinalProgram.uniforms.uTexture,t.attach(0)),r.uniform1f(o.bloomFinalProgram.uniforms.intensity,y.intensity),r.viewport(0,0,n.width,n.height),E(n.fbo)}(d.read,S),null!=n&&y.transparent?r.disable(r.BLEND):(r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.enable(r.BLEND));var t=null==n?r.drawingBufferWidth:f,i=null==n?r.drawingBufferHeight:s;if(r.viewport(0,0,t,i),!y.transparent){o.colorProgram.bind();var a=y.background_color;r.uniform4f(o.colorProgram.uniforms.color,a.r/255,a.g/255,a.b/255,1),E(n)}if(null==n&&y.transparent&&(o.backgroundProgram.bind(),r.uniform1f(o.backgroundProgram.uniforms.aspectRatio,e.width/e.height),E(null)),y.render_shaders){var u=y.render_bloom?o.displayBloomShadingProgram:o.displayShadingProgram;if(u.bind(),r.uniform2f(u.uniforms.texelSize,1/t,1/i),r.uniform1i(u.uniforms.uTexture,d.read.attach(0)),y.render_bloom){r.uniform1i(u.uniforms.uBloom,S.attach(1)),r.uniform1i(u.uniforms.uDithering,x.attach(2));var v=N(x,t,i);r.uniform2f(u.uniforms.ditherScale,v.x,v.y)}}else{var l=y.render_bloom?o.displayBloomProgram:o.displayProgram;if(l.bind(),r.uniform1i(l.uniforms.uTexture,d.read.attach(0)),y.render_bloom){r.uniform1i(l.uniforms.uBloom,S.attach(1)),r.uniform1i(l.uniforms.uDithering,x.attach(2));var m=N(x,t,i);r.uniform2f(l.uniforms.ditherScale,m.x,m.y)}}E(n)}function U(n,t,i,a,u){r.viewport(0,0,l,c),o.splatProgram.bind(),r.uniform1i(o.splatProgram.uniforms.uTarget,g.read.attach(0)),r.uniform1f(o.splatProgram.uniforms.aspectRatio,e.width/e.height),r.uniform2f(o.splatProgram.uniforms.point,n/e.width,1-t/e.height),r.uniform3f(o.splatProgram.uniforms.color,i,-a,1),r.uniform1f(o.splatProgram.uniforms.radius,y.emitter_size/100),E(g.write.fbo),g.swap(),r.viewport(0,0,f,s),r.uniform1i(o.splatProgram.uniforms.uTarget,d.read.attach(0)),r.uniform3f(o.splatProgram.uniforms.color,u.r,u.g,u.b),E(d.write.fbo),d.swap()}function w(e){U(500,500,100,0,{r:255,b:0,g:0})}function F(){var e=function(e,r,n){var t,i,o,a,u,v,l,m;switch(a=Math.floor(6*e),v=n*(1-r),l=n*(1-(u=6*e-a)*r),m=n*(1-(1-u)*r),a%6){case 0:t=n,i=m,o=v;break;case 1:t=l,i=n,o=v;break;case 2:t=v,i=n,o=m;break;case 3:t=v,i=l,o=n;break;case 4:t=m,i=v,o=n;break;case 5:t=n,i=v,o=l}return{r:t,g:i,b:o}}(Math.random(),1,1);return e.r*=.15,e.g*=.15,e.b*=.15,e}function O(e){var n=r.drawingBufferWidth/r.drawingBufferHeight;n<1&&(n=1/n);var t=Math.round(e*n),i=Math.round(e);return r.drawingBufferWidth>r.drawingBufferHeight?{width:t,height:i}:{width:i,height:t}}function N(e,r,n){return{x:r/e.width,y:n/e.height}}(function t(){e.width==e.clientWidth&&e.height==e.clientHeight||(e.width=e.clientWidth,e.height=e.clientHeight,k());!function(){T.length>0&&w(T.pop());for(var e=0;e<a.length;e++){var r=a[e];r.moved&&(U(r.x,r.y,r.dx,r.dy,r.color),1!==e&&(r.moved=!1))}if(!y.multi_color)return;if(P+100<Date.now()){P=Date.now();for(var n=0;n<a.length;n++){var t=a[n];t.color=F()}}}();y.paused||function(e){r.disable(r.BLEND),r.viewport(0,0,l,c),o.curlProgram.bind(),r.uniform2f(o.curlProgram.uniforms.texelSize,1/l,1/c),r.uniform1i(o.curlProgram.uniforms.uVelocity,g.read.attach(0)),E(b.fbo),o.vorticityProgram.bind(),r.uniform2f(o.vorticityProgram.uniforms.texelSize,1/l,1/c),r.uniform1i(o.vorticityProgram.uniforms.uVelocity,g.read.attach(0)),r.uniform1i(o.vorticityProgram.uniforms.uCurl,b.attach(1)),r.uniform1f(o.vorticityProgram.uniforms.curl,y.curl),r.uniform1f(o.vorticityProgram.uniforms.dt,e),E(g.write.fbo),g.swap(),o.divergenceProgram.bind(),r.uniform2f(o.divergenceProgram.uniforms.texelSize,1/l,1/c),r.uniform1i(o.divergenceProgram.uniforms.uVelocity,g.read.attach(0)),E(p.fbo),o.clearProgram.bind(),r.uniform1i(o.clearProgram.uniforms.uTexture,h.read.attach(0)),r.uniform1f(o.clearProgram.uniforms.value,y.pressure),E(h.write.fbo),h.swap(),o.pressureProgram.bind(),r.uniform2f(o.pressureProgram.uniforms.texelSize,1/l,1/c),r.uniform1i(o.pressureProgram.uniforms.uDivergence,p.attach(0));for(var t=0;t<y.pressure_iteration;t++)r.uniform1i(o.pressureProgram.uniforms.uPressure,h.read.attach(1)),E(h.write.fbo),h.swap();o.gradientSubtractProgram.bind(),r.uniform2f(o.gradientSubtractProgram.uniforms.texelSize,1/l,1/c),r.uniform1i(o.gradientSubtractProgram.uniforms.uPressure,h.read.attach(0)),r.uniform1i(o.gradientSubtractProgram.uniforms.uVelocity,g.read.attach(1)),E(g.write.fbo),g.swap(),o.advectionProgram.bind(),r.uniform2f(o.advectionProgram.uniforms.texelSize,1/l,1/c),n.supportLinearFiltering||r.uniform2f(o.advectionProgram.uniforms.dyeTexelSize,1/l,1/c);var i=g.read.attach(0);r.uniform1i(o.advectionProgram.uniforms.uVelocity,i),r.uniform1i(o.advectionProgram.uniforms.uSource,i),r.uniform1f(o.advectionProgram.uniforms.dt,e),r.uniform1f(o.advectionProgram.uniforms.dissipation,y.velocity),E(g.write.fbo),g.swap(),r.viewport(0,0,f,s),n.supportLinearFiltering||r.uniform2f(o.advectionProgram.uniforms.dyeTexelSize,1/f,1/s);r.uniform1i(o.advectionProgram.uniforms.uVelocity,g.read.attach(0)),r.uniform1i(o.advectionProgram.uniforms.uSource,d.read.attach(1)),r.uniform1f(o.advectionProgram.uniforms.dissipation,y.dissipation),E(d.write.fbo),d.swap()}(.02);_(null);requestAnimationFrame(t)})(),e.addEventListener(\"mousemove\",function(e){a[0].moved=a[0].down,a[0].dx=5*(e.offsetX-a[0].x),a[0].dy=5*(e.offsetY-a[0].y),a[0].x=e.offsetX,a[0].y=e.offsetY}),e.addEventListener(\"mousedown\",function(){a[0].down=!0,a[0].color=F()}),window.addEventListener(\"mouseup\",function(){a[0].down=!1}),window.addEventListener(\"keydown\",function(e){\"KeyP\"===e.code&&(y.paused=!y.paused),\" \"===e.key&&T.push(parseInt(20*Math.random())+5)})};var t=o(n(0)),i=o(n(3));function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};t.get||t.set?Object.defineProperty(r,n,t):r[n]=e[n]}return r.default=e,r}function a(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function u(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,\"value\"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var v=!1;var l=function(){function e(r,n,t){if(a(this,e),this.uniforms={},this.webGL=t,this.program=t.createProgram(),t.attachShader(this.program,r),t.attachShader(this.program,n),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))throw t.getProgramInfoLog(this.program);for(var i=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS),o=0;o<i;o++){var u=t.getActiveUniform(this.program,o).name;this.uniforms[u]=t.getUniformLocation(this.program,u)}}var r,n,t;return r=e,(n=[{key:\"bind\",value:function(){this.webGL.useProgram(this.program)}}])&&u(r.prototype,n),t&&u(r,t),e}(),m=function e(){a(this,e),this.id=-1,this.x=0,this.y=0,this.dx=0,this.dy=0,this.down=!1,this.moved=!1,this.color=[30,0,300]}},function(e,r){e.exports=\"data:image/png;base64,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\"}])});","extractedComments":[]}